var lp_global_sprintf;
(function(p){function e(){var c=arguments[0],d=e.cache;if(!d[c]||!d.hasOwnProperty(c))d[c]=e.parse(c);return e.format.call(null,d[c],arguments)}function n(c){return Object.prototype.toString.call(c).slice(8,-1).toLowerCase()}var r=/[^s]/,q=/[dief]/,s=/^[^\x25]+/,t=/^\x25{2}/,u=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,v=/^([a-z_][a-z_\d]*)/i,w=/^\.([a-z_][a-z_\d]*)/i,x=/^\[(\d+)\]/,y=/^[\+\-]/;e.format=function(c,d){var f=1,z=c.length,a="",h=[],g,j,b,
k,l=!0,m="";for(g=0;g<z;g++)if(a=n(c[g]),"string"===a)h[h.length]=c[g];else if("array"===a){b=c[g];if(b[2]){a=d[f];for(j=0;j<b[2].length;j++){if(!a.hasOwnProperty(b[2][j]))throw Error(e("[sprintf] property '%s' does not exist",b[2][j]));a=a[b[2][j]]}}else a=b[1]?d[b[1]]:d[f++];"function"==n(a)&&(a=a());if(r.test(b[8])&&"number"!=n(a)&&isNaN(a))throw new TypeError(e("[sprintf] expecting number but found %s",n(a)));q.test(b[8])&&(l=0<=a);switch(b[8]){case "b":a=a.toString(2);break;case "c":a=String.fromCharCode(a);
break;case "d":case "i":a=parseInt(a,10);break;case "e":a=b[7]?a.toExponential(b[7]):a.toExponential();break;case "f":a=b[7]?parseFloat(a).toFixed(b[7]):parseFloat(a);break;case "o":a=a.toString(8);break;case "s":a=(a=String(a))&&b[7]?a.substring(0,b[7]):a;break;case "u":a>>>=0;break;case "x":a=a.toString(16);break;case "X":a=a.toString(16).toUpperCase()}q.test(b[8])&&(!l||b[3])?(m=l?"+":"-",a=a.toString().replace(y,"")):m="";j=b[4]?"0"===b[4]?"0":b[4].charAt(1):" ";k=b[6]-(m+a).length;k=b[6]?0<k?
Array(k+1).join(j):"":"";h[h.length]=b[5]?m+a+k:"0"===j?m+k+a:k+m+a}return h.join("")};e.cache={};e.parse=function(c){for(var d=[],f=[],e=0;c;){if(null!==(d=s.exec(c)))f[f.length]=d[0];else if(null!==(d=t.exec(c)))f[f.length]="%";else if(null!==(d=u.exec(c))){if(d[2]){var e=e|1,a=[],h=d[2],g=[];if(null!==(g=v.exec(h)))for(a[a.length]=g[1];""!==(h=h.substring(g[0].length));)if(null!==(g=w.exec(h)))a[a.length]=g[1];else if(null!==(g=x.exec(h)))a[a.length]=g[1];else throw new SyntaxError("[sprintf] failed to parse named argument key");
else throw new SyntaxError("[sprintf] failed to parse named argument key");d[2]=a}else e|=2;if(3===e)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");f[f.length]=d}else throw new SyntaxError("[sprintf] unexpected placeholder");c=c.substring(d[0].length)}return f};var l=function(c,d,f){f=(d||[]).slice(0);f.splice(0,0,c);return e.apply(null,f)};"undefined"!==typeof LPfn?(LPfn.sprintf=e,LPfn.vsprintf=l):(p.sprintf=e,p.vsprintf=l,"function"===typeof define&&define.amd&&
define(function(){return{sprintf:e,vsprintf:l}}));if("undefined"!=typeof LP||"undefined"!=typeof is_firefox&&is_firefox())lp_global_sprintf=e})("undefined"===typeof window?this:window);"undefined"!=typeof is_firefox&&is_firefox()&&(sprintf=lp_global_sprintf);
