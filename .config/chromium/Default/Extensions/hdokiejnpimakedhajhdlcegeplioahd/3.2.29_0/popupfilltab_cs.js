var g_content_check=!0,g_bodystyle_relative=!0,g_trial_bg_expt=!0,g_ignore_lp_cache=!1,g_stylesheet_grubbing=!0,g_use_wacky_disp=!0,g_input_click_intercept=!0,g_fixed_iframe_position=!1,g_force_fill_active_element=!1,g_create_iframe_in_top=!0,g_inframe=null,g_toplevel_iframe_exists=!1,g_detect_species=!1,g_combat_obfuscation=!0,g_queeg_mode=!0,g_show_safari_csp_msg=!0,False=!1,True=!0,pass=!0,LP_GETNAME_FAVOR_ID_OVER_NAME=!0,LP_GETNAME_FAVOR_NAME_OVER_ID=!1,g_popupfill_rows=0,g_popupfill_rows_FF=
0,g_weasel_id=null,g_weaseled=!1,g_autofillsites={},g_popupfill_widest=260,g_popupfill_max=1,g_popupfill_ctr=0,g_popupfill_parent=null,g_popupfill_parent_last=null,g_isadmin=!1,CLICKABLE_ICON_ZINDEX=2147483648,popup_show_sitename_suffix=!0,popup_show_menu_expand_visual_cue=!0,g_last_field_focused=null,g_minwidth_override=0,g_minheight_override=0,g_popupfill_iframe_width_save=0,g_popupfill_iframe_height_save=0,g_hide_navbar=!0,LPICON_HEIGHT=16,LPICON_WIDTH=16,g_double_password_hack=!1,g_double_secret_password_hack=
!1,g_double_password_wtf=!1,g_iframe_dims={},g_popup_divs={},g_input_cnt=-1,g_form_cnt=-1,g_input_fingerprint=null,g_keyboardNav=!1,g_more_close_on_cancel=!1,g_more_enable_return=!0,create_onerow_iframe=!0,do_autofill_if_matched=!1,do_popup_actions=!0,popup_actions_imgs={},g_frame_css_str="",g_is_specialsite=null,g_nevers={},g_last_recheck=null,FORCE_OFFER_GENERATE=!0,NO_FORCE_GENERATE=!1,FORCE_SHOW_NOHITS=!0,NO_FORCE_NOHITS=!1,FORCE_SHOW_NOHITS_NOLOGIN=2,g_icon_shading=!1,g_do_icon_number_hint=!0,
g_icon_hover=!0,g_icon_parent_hover=!0,g_icon_number_overrides={sites:-1,formfills:-1},g_icon_numbers={sites:0,formfills:0},g_visual_cue_on_hover=!0,g_show_icon_only_on_focus=!1,g_show_save_success_msg=!0,g_save_suggest_msg=!1,g_creditcard_profile_annotate=!0,g_show_icon_number_for_formfills=!1,g_save_suggest_msg_seen=!1,g_change_icon_on_input=!0,g_savesitesuperbox=!0,g_dologin_clickable=!0,g_use_grey_icons=!0,FADE_MAXSTATES=100,g_aspx_hack=!0,g_found_aspx=!1,g_clickable_input=!0,g_clickable_input_on_password=
!0,g_popup_active_username=null,g_popup_active_password=null,g_extended_kbd_nav=!1,g_iframe_scroll_hack=!0,g_frame_scrollable_set=!1,g_defensive=!0,dotrans=!0,g_markov=!1,g_pw_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMUlEQVQ4T32SgVHDMAxF6QZ0AswELRuECcoGhAloJwAmACZomAA6QbMBZYKaDRih/+UkTvHF1d0/x/L317eU2cX5WNrxoUabTRwk5Z6EtjjrtH8RcsyXAlx6FS6FneCVcbIS/oSNgNgQUQDSt/Bj1UvbnHNxIdy4eBTolYQEsOkXKIQzBL0I3NvoIGlzFN6Ftbl71gqRaAT2xJvwKFwL2R1A2Jsql6hEL7JdSlp5Oy7uhE/nukCrxDYIUI1JxGAC5L3Yg7670sGQNGJNwMXpQR+byIjoAx3mCViN8aVNFpjUXGDUozG6srvgPJkYlwnc3Qv+nJEAhNZIfDcCzfoVeA4FcPZhvEFx6ld2IZpaxn9lP6gJUAnbV+aA6uzp0yhqApBoUmdrM+Hm7BMiP2mTawInofVEEf5J2pUAAAAASUVORK5CYII=",
pw_svg="",pw_svg=("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?getchromeurl("images/generate16x16.png"):g_pw_ico,g_ff_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T2NkoBAwIukXALL9gViBgJkPgPIbgfgDSB2yAQVAfj+RDioEqpuAbkADUKAeiB0JGLIfKN8IxCD1KC6AGYDsqgtANf+B2BDJUBCfaAM2QDUGkGMAcpjA/Qx1EVEugHkJZDlcA7EGgKJSHi0wHwL5D4g1wAGoEISRwQEgB4SJCkSQZns0Aw6SYgDICyCMDEDOJ8oL6E5HMwfsDayxQHFSBmUmUIJBdzq6C0DeWAATRE626AqJ4gMAKh82EQu8MAEAAAAASUVORK5CYII=",ff_svg=
"",ff_svg=("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?getchromeurl("images/formfill16x16.png"):g_ff_ico,g_sites_dark_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhsdjWkOXwAAAKJJREFUOMtjYBi2QIGBgcEBiW8AxUSBAgYGhvcMDAz3kcQuMDAw/GdgYGhAV8yCwxABKE6A8vWh9ANiXXEAauN9KP4PFcMAjGj+loeyH6J5gQHqmgdI8hiuaYDaRAyGhwUTpdGF7gUFJPZ8NLWGSAH8gFCAwgIRpvA/AwPDfmJdFYDk1wQohvEL0BVjCwMDpJBeAMUPGRgYPlKSlB2Qwme4AQBDOy61dYCtFwAAAABJRU5ErkJggg==",
g_sites_ico="data:image/png;base64,"+g_sites_dark_ico0,sites_svg="",sites_svg=("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?getchromeurl("images/sites16x16.png"):g_sites_ico,g_close_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAl0lEQVQ4T7VTgQ2AIAyTC/RD9QO9QLxAP1A/1A9sDZgFo0CQJctcWOs6hioSTRl8hVjDGUNsR9EG3y1Bh2QKQYqaHt+zJdBIhkiCEfU6G8HB9kRX/BtllqLLzw6uQ3hjAKvJpUyvhBYgAmkkWpwZ5SVIlsBF4RA5BxojhygXzSvBkfxI/yVIXmVq41XFPCZe8f2YfHpfz0+q7C4R/Q4GAgAAAABJRU5ErkJggg==",
close_svg="",close_svg=("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?getchromeurl("images/close16x16.png"):g_close_ico;
function getnumbericon(a,b,c,d){var e=0;if((a=getIconState(b.ownerDocument,LP_pickFieldName(a,b)))&&!("undefined"==typeof a.fillhintnumber||"sites"!=a.fillhint))e=a.fillhintnumber,isNaN(parseFloat(e))||!isFinite(e)?e=0:10<=e&&(e=9);"undefined"!=typeof d&&(e=0<=d&&9>=d?d:0);d=[g_sites_light_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiEFu6xIcAAAAXhJREFUOMvNk8FLVFEUxn/ffRdmIAla1CbBFDGCpoiQWYlBLty7UHAvEq2HYLhveDMws2/TIly6E9SdIEj+AVYgRaTgXhe2C968x2nhTOjow8pNZ/ede/ide893Lvx3UavVhkMIk30dQqiGECpF9e68CCG8LpfL3yStAAIk6Z2kT3Ect68C+AGdSroFVEII82aWSXoGYGYHVwE0qOM43pU0BXw3s1zSI2AnSZKXhYB6vT7inLvd7XZ/eu8fOOe2JEW9zjkwZ2bHkoayLDtpt9ufLzzBe/8GWC6VSpc7nIE2pLPLeu/fA0uDQ3T/6pp6039uZnfN7Ieke1EUrQOu3/VawPloNBrbwIyZ7TvnLvg/+mKOJ3xk88NR4R4sADM92fp9MDRMdXaRxenHVMbuFy8SMAFkZval2Wyu9ZN3Hk4zWx0nAtKsWwxotVrNNE2f5nn+CrB+/nRvlSR5y2EK0TWbSKfT+fo3Lribfr4bA/yfl56y2kkuZX8BjXVyqMs8oFcAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMeA//jHgAAAdRJREFUOMvNkz9oU1EUxn/nvkeSokgV2oIoNbVUi5Qgj+ogomAWB3GQEtFZUdE1COG+/IMEHLp2kI7FRdCCgxCQdhJFsSKCtIUMDoU42EEMvORxHPIiNSb+mzzbxz33+873nXvhv6tsNnvAWjvbxdbak9bamUH9Ziew1t5OJBIfRGQREEBEZEFE3vi+X+lH4PbgQER2ATPW2oyqtkXkOICqbvQjkF7s+/6qiJwG1lU1FJFp4FmxWDw3kCCXy40bY/a0Wq2m67qHjDFPRcSJlEPgkqo2RGR3u93+VKlU1n6w4LruXeBGPB7/WaFD9FikM6zruveB670hmn/dmkTpe6o6oqrbIjLqOM4jwHRVf0uws/L5fA1Iq+o7Y0y0/xip9AVOTO7j69YGteUVGlG/0/MOLotINoJ3RGQOIJm+RubUBHGFkfEpZqeHeP5qk7CP9ymgrarvS6XSw676kWNj0FyjOj/Pk3oAY/sZ7hdeuVwuBUGQCsPwFqDR2+LFgwWq95YZ9S5yPhkjqK9/t/DLlAqFgnanOHv1Jmcmh9neXGVxaYUvf7M+L9O53Pz4mtrLBodTSWID/kKf2svRiY7joYMec1c8COtsva3T+DOCzyxViwNPvwEMIZXdCan/PwAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIBl+zfqgAAAdJJREFUOMvNkj9oU2EUxX/3e4+X2AYtgoIotAUVlZSiVQKCOFgwQ50cKhUcg4qbEITwvfyTjEKnCqUgbqJooQgFRXAROoiiKFWHOsdiSw0UXvK4DkloGl+wOHm2c7ice++5F/47ZLPZQ9baM21urU1Za0d61ZtOYq29FY/Hl0VkDhBARGRGRN75vl+JMnC7eCAi/cCItXZSVRsichJAVb9FGUg3933/tYicA76qaigix4FXxWLxQk+DXC43aIzZXa/XN13XHTLGLIqI0+ocApdVtSoiiUaj8aNSqbzftoLruneA67FY7M8OTaN5keawruvOApnuEM2/Xk1a6Y+p6j5VXReR/Y7jPANMu+tfDTqRz+dfAOOq+tEY07q/x1j6EqeG9rLx/QPPF5eo9fiDK8B4i5bb+pGJDBOpJH3EOJZKk5kcjX4k4CjQUNVPpVLpSVNKMHjAY315nun7D1gJoS8WjzYol8ulIAhGwzC8CWhTrfFy9h7Tj1yy+dsMO7BarfbOoBOFQkHB40TqLLt+fubL6h4uXp0iObDCzN2HVCNeOQL9nE6fZzg4yMbcG3Caan3n91/j6eMlfnmHmbpxjeTAJm8XFljb+Qpb8BIeQS3YVvMbj7WWjTVB6I8AAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIqO1Am6gAAAb1JREFUOMvNkk1rU0EUhp8zd0gCrdKFNgiCFatiIYgUKdW6aikuhIJF6kJcdFFEXAclzM0XJH9A6EL8BSoqZlEQCl0GEQU/qApdiYouKmgUbu7luGgC+boUuvLdvcPMc86c88J/p2w2e9g5d7btnXNTzrlM3H3TaZxzt1Kp1KaI3AcEEBFZFZFXvu9XBgFsjw9EZAjIOOeWVDUUkTMAqvppEEB6ve/7GyJyAfioqpGInALWi8XibCwgl8sdMcbsbzabf621Y8aYNRHxWpUjYFFVv4vIcBiGPyqVyuuuL1hrbwM3kslkf4Ud0BORnWattfeAld4hmr1uTVrTn1TVg6r6U0RGPc97DJh21V0Bncrn88+BOVV9Y4zp2v/w0RkWzo2w8aDG52BwDq4Ccy1b7iInJrh2fZbx8QxjQzFBAk4Aoaq+K5VKDztec3H5MmkAIppxSSyXy6UgCE5HUXQT0Pb58UvLTB34Qm1tE4CwEZ9EqtXq++6TUaYn0xD9YuZ8Gkgwv7LA1t2nbA8C9OsPH16+peGFpA6dZGQfbH/9RiOug379pl57RB1ITCxy58oxXjyrE8StsVOFQkF3w/8DCTuL1wm1OYIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQbPNSBVgAAAdVJREFUOMvNks9r0nEYx1/Pxy9qzAIJXTWp7BCOMSJkC6KdtqMdIkZR4DEqOktDPooKCv0DBdEturSo2IIoKIQ6dBi5RmOsTrHTIjbIGqlfng4qbO4rRaee2/v9+fB6fsJ/F5lMJmatHetqa+0pa+1ov/9mu7DW3ggGgysicg8QQETktoi8z+VyZS+A06MbIjIAjFprL6hqS0ROAqjqJy+A9OpcLlcVkQlgVVVdERkGXhUKhcm+gGw2e8QYs6/ZbG45jnPUGPNcRHydzC5wXlXXRSTUarW+lsvl2o4WHMe5CVwNBAK7M7RBT0TaxTqOcxe40jtE869bk870k6oaUdVNEYn6fL7HgOlm/SNge+Tz+ZfAlKouGWPa+/fHSZ0bZ6DdAz8+V5l/t+Z5BxeBqY4sdf3Q8DjJRIKhSITI4BCx2KD3IQHHgZaqfiwWi7NdM3IwDHzjQ61GrfqQO48WvAGlUqnYaDROuK57HdCuHz0UBvYzdnqCyVSamfSZvpdIpVJZ7vVWXz/le/MLy2t1kukZUoePEeUN616A3RHm7OVp4j9XeHB/iZEDfnB/0fz7/W8wN7fA1t4El65NE9+zydvZZ2z0a8ETsTjPrcUXhEJ+6vX6jrffHVGXQ3t5OMYAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUQsh1pnwAAAdhJREFUOMvNks1rU1EQxX9z37OJGAUF4yfYQBTUlCpBixhRaBcuAoIiiovsFBXXQQk3IYkkf4IF8S/QUjdCURELdlWjglSKunHhIukiQktLX/IYF0mkTRP8WDm7M/dyZuacA/9dpdPp/dbaEx1srR2x1g71+2/WAmvtnWAwOC8ijwABREQeiMj7bDZb6kXgdmFPRLYAQ9baK6raFJHjAKr6pReBdONsNjstImeAz6rqi8hh4FU+nx/tS5DJZA4YY7Y1Go0V13UHjTFTIuK0J/vAJVWtiUio2WwulEqlD+tOcF33LnAzEAhsnNAieirSWtZ13YfAjW4Rzb+6Jm3146q6U1V/iEjYcZxJwHSm/pZgbeVyuRfAmKp+NMb88v9g4gLnYntYXZhnauI1tT45uAqMtWGx0w8nUlwbPYazvMy+2FluXU/0DhJwCGiq6lyhUHjSaoU4dTICi1+ZfTvHbKXC9LvvDPQiKBaLBc/zhn3fvw1oq7uJkAtsjZK8mOR0PM7w4A68PkmkXC5/2qCUA1RnyI+/ZCR1j/Oxo4QnKtT+zL4636oe7IoQjxwhunsAVlZp/I3/byafU/X3kkxdJrp5kZnHz6j3O6H3EhXG71cIbQ+xVF9a9/QTGr2YJMqy6kMAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYB84AargAAAa9JREFUOMvNk0FrU0EUhb87bzABiyhiC7XQKCq6CCJF3FhQ7E7BhYL+AhFxHYQwL7xEknUX0kUR3LhRQQsuxAahgkvRIpaiXYmrCiaCILzMcF0khTZ9z0JXnt2ZGb4799wZ+O9UqVQmnHNnN7xz7pxzrpx33mw2zrm7xWJxVUQeAgKIiMyJyIc4jptZADvkUxHZC5SdczdU1YvIGQBV/ZoFkGEfx/GSiEwDX1Q1iMgp4E2SJJdyAdVqddIYs6/X6/2x1paMMa9EJBpUDsA1VV0XkRHv/Y9ms/lxSwvW2nvA7UKhsL1CH/RCpH9Za+08cGs4RLPbqckg/SlVPaSqXREZjaLoOWA2qu4I2KxarbYIzKjqJ2NMGUY4f/Uyh4se7/td+1+rLLSXt4/ROXcTmBnYBvAE4GDpOCf3RwQgAgiWt+1lOhm9nwC8qn6u1+vP+ku/WZi9T5IkPHi5BqS8e/SUTlZ4jUajnqbp6RDCHUC3so9w/cox0rXXtL+nuS+RVqu1khXWxIWLjBNYWnyf/xf+pdLRMQjfWFlnN4ADTI7tge5Pujt8phx1eNxKMnf+AqjSjZJP5cFjAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYvL1YXYQAAActJREFUOMvNk71rU2EUxn/nvdckkCgWsYv1Y1EQWlMJUkWqQzsUdOtQ/4Jgi3NQwntvPiDZXQSDi7P4sRUqhYKTIhaMIjoIhSKNFDsExZt7OQ5NMI03VJx8tufh8Jz3nOe88N+hUCiMWWsv9Li1dspaOzGs3vQTa+2tVCr1QUQeAAKIiNwTkTee59XiDNwBHohIGpiw1i6oaigi5wFU9VOcgQxyz/PWRGQa+KiqkYicBVbL5fLMUINisXjSGHOo0+n8cF33lDFmWUScbucImFfVlohkwjD8WqvV1veM4LrubeBmMpn8s8Ou0VOR3ce6rtsA8oNLNP+amnS3n1PVo6q6IyKjjuM8AUyv674G/fB9fwWYVdW3xphu/hmmrl/j3NgIP780efzsBe0hd3ADmO3Sak/PzueZy52G7xHHJmdYWsjGHxJwBghV9V2lUnnUE1PpJOys03jY4NU2JNIH4w2q1WolCIJsFEVLgPb0zY0tOJzD930uH4Gtjc2hl0i9Xn+/Vxnh6qXjsP2au/dfciW/yOTFaUaff6b11/E5gJPkAB2iff5CDL6xttLkxNw4i3fGgYDm8iqtYTH2o1Qq6W+WIJNJELTbBH01vwC+YJMlVG88LQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigO/bwqsQAAAfNJREFUOMvNkz1ok2EQx3/39umHmpZWMUVaUEEUpWlQ0QyiCDooFhwcFN2lgqhTEMKTDwsZCw4SQQNOLh20KBgQRZ0kIK2LlBaqtNKhfkRqbHnfvOEc0kCbD0Enb/vD8bu7/93BfxfRaLTfWnuoqq21EWttqFm+s1ZYa692dHRMiUgWEEBEJCMiE/F4PN0IYGq0JyKbgJC19ryq+iKyH0BVZxoBpFbH4/HXInIUmFbVsojsBV6mUqkTTQGxWGy74zhdpVJpxRizw3GcnIi0rFYuA+dUdVFEAr7vf0mn05PrRjDG3ASG29vb6ytUQI9FKs0aY+4Bl2tNdP51a7Lq/kFV3aqqP0QkaIwZ/yvA2kgkEs9F5CQEiAydYbC/i6VPeR7l3uM1ALTU3MEFEYmKCJFLNzg1sA186NsVZl/nAvnp738+JGA34EOQPTs3UP6YY/T2KC8WymwJHaYHgABDw9c5G+6pB4yMjNzyPC8My/zyoKVvkEj4OAO9lUZbAdjI5t5ugp2tzY1JJpOavv9M55ZcVd9VV1XVndE3s8u6Plxtsr42jp0+QvfPCTJ3xvkKeHNT5J88IJsdY74M3yafksncrfuF6kvw9tUHDlyMcOVaBFbmeTj2jqIHxUIJF3A/z7K4WKhfY3WEaieBnjaKhWLTcX8DATq/EhizV6kAAAAASUVORK5CYII="];
a=[g_sites_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiA7Y9ZkmgAAAOlJREFUOMvNkr8OAUEQxn+4UkFN4k8kGv865SmVEqXGI3iEvUrvBWg8gDfwAsQDSO48wfVHQmEkg3NWrjHJZHe/nZ2Z79uBf7QqMFDnnriVzYAQ8BV2AK6AiXvgxGAF8amcu7IGtl1spaIvfhUs1jKKd0X2pxcKSDeBun/rxkglG3/SIpv2yzSFqtovAYwxXxM4SuFAifjgWtHBtcGYDns2W/8jhRHgKl3uli/TH06YuC3a9RJJGvRU9dUDLDZdhv0GOSC6nBMTGKCmhgiAcLfG8xYcI8hZTGLwy9Sl/sbUCRz70JD13HtDbwm1Old+g8VwAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMmK/1bgAAAAUhJREFUOMvNkr9Lw1AQxz9KCCgIUcSCICYaUFBIIODikA4ddBC7iKCLONlJ/4Q4devqJLoUZ8GtIC24KAh1VSERh0KWdrIQkDr4Wp81oREXD453d4/78f3ewX8UHchKvi00lRwBTcCXYnWgA3hxCUpMTBO6J3xLvEHaKaqioy+0I2KxMiThnhX2Sx8ExDSB9P9jGk90SqPfuBj+68pkCLpknwF4njewgCIxHEgkdrEKXlSs3AYr5gRvjScql1XCBAh5wJV4AcDI7ZNfXWZydAzTdikcrKEmFLCl7ufd7gtLGWjXKZZKXPkRZKbREg7JE4n6Vyji9uKE6zBkytlk3VCJ/McehLhLDPr33AxbZHcPcU2N1nON0/LN79bobBdwTY326z2Vu5B5y+hxoAxOH2dx7hPxyIzD1o4D7z6NB58wXYEm5eJx4u8Hfzxclyg/Z/wAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiII7jBnDgAAAVBJREFUOMvNkjFLw1AUhT+1pFo7FAdFHBrBgkihxRQ6STtmqOAmOIhTwU0QXH2/QNBBBBE7uQgilIJDByehgyDi4JaIkwWJ1IJQkTr0iS8xqQEXD1xy70le7j3nXfiP0IGiUmdlhMIG4ACWwt0AXUD4HYj4cAkZa7LOyKcddopL2dGS0ZWcLwYU3UmZP3gkIKexlfc/phGyU5hweTH41ytTJehKfgwghPj1BxHFYVsx8Uur9EXDMBeZ18do2bfULhq0AyQsAQXFFwBSpTKlfJoYUWbzJuXlTKAHWaV7pZfGSU5qvNyfs3tQwfqAWHQ4cJGEPKh/U23qhzvUMdja3mQEeGo2+96C7V4cjbl8ESP1yP7eCXfPMJFbYLzPKnswSs4sMN2ZonV0BUM99j38HjicnTZ41WZYWV8lnXjjulrF8eyBL4QQXbXW4hqddsf1zSd981rsA+U7cAAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIxsTXvBgAAASpJREFUOMvNkrFLw1AQxn+2EhQVIohFKJhqRSiIBQcRCxYEcSgoilNFSgdnV7f3n+g/4GQHx65BBAcHnRoXdetiHGolLgdeYpoGXPzg4727x7u77+7gP8IBqsouC1PhDOgCHeW7BwLAxH0YjfHZwobYq3J6aatoS8aOMBBfLEaU7nm5P0ckINV46v1XNUYypWGoF5m/jkxLcNT9AsAYMzRARnW4LWworSFMFirU6zXy1mAJ+8CW6ssPrBLHJ9sUiys4E4MDlFX2S/Wb3eYBOQC++ExoogEKSgYAS7Um6zMvtG4eAej7yVPwwoszy8ZaDrCpbC4A4+yc7jGdsMoRfPB094Cf7TM2t4w9Bd3XN/z0Ad5xW1e4gFU65Pxokdtrl15kD2JhjAmGhf8GfYtLPXngvXwAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQSRQg58gAAAVdJREFUOMvNkz1LA0EQhh/lOAhG8IpL1ARNrE5SGAimEIL+gAhapFEQWztbu+sE/4QiYmUjiY0gKsTCIpAoiIiQU2IjSARPowSJhRvYXO70wMaBYXdnmI/3nVn4jxIDZqR3UqgvWQXqQFWylYEWYLoFKC62AaHL4j0hTstvFyeiYlVoS9hcpUfCPSrudw4IiG4syd/VjSkq+dEOLnr/OjIZQky6bwKYpvlrAkVi2JJIbGP95kWNk51P0wegKLzenlI4r7lCmAOmJV4ACI6nSRkGEV1HD0eIRsOee5CUqm+1oehDGvDERbnMe+OBYqnqmcAUgTHZGBrWAJXJqQxqQCWTOGJ9u+i5iZZzzjfH+7w077mq2aSW1siOjBGiyKNHAodozC7miL9ds7tzSWJQhc8Pmv73oE4+X6LRb7CwkiMeeOZs74D6D5+pO0WlwEblkGBQxbbtDt8XLQlh5BtbXRIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUJ1nbBXwAAAVBJREFUOMvNkz1LA0EQhh9NDASuSJr4VZjA2WjAgCAIBwnYBhTBxiLYWNj5EzaQH2GnvYiVEKxSmEoPUlikEO5SSDiFnJAQyanEwg1uzEVPbBwYdnaG2Zn3nVn4j5IEcso9IzWQHAIuYCm+GtAHhF9C2McXk7on7yvytIN2UZEVLal96fOVCQX3grQbXyAgu7GV+Eg3QlYKokNcTP51ZCqEpGIfAwghfnwgrDBsKyQOsA54YdHYJJeepfdYp3xW4WEMhC0gq/ACQMIosLuRIdTtMp/OcrBvjN2DjFL95AOKxvpaCtp3XN/UibdavDbviQCezwNCJiY/XVNoYSCqk9/WIQRPt00qpjV2CvbI4oQAp0qxVKRsecTSyySCj9Gl4XgwnWI1tYQ+E4HnHi+/2YOr80uctznyhR30aJvq6QXuN5/JpwmTo5KJFtfouJ2h0Du9o2L2gjumAgAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYHGuO/mwAAASZJREFUOMvNk79KA0EQxn+aQywsEiwCMXgXUbAzYCsYawNa2KXJEwQfYQXB2idIGiura/UKFSwF04iFkItYWeQiWIU7YpERxrjqkTR+MOzuDPPvm1n4j/CAinqXRVLhEIiAjtLdA0PA2Bwciy4rUpf3hpxh2iquJGNHZCg6K2ZU367cu2MtINWEyv6tGiOZ0sgXLmanHZluwVP3JoAx5s8AjmI4VCR+9urCAlt7uyzNx8TxyCV+e8QP2tYx7gPbipcmwKK3xno2QwJkABKHm6BNZAlQVtlbowDv+KfH+EBus0ajusxt65zoBxINUFJLpFDioLrK4OmC4GXw6yaGtjkXKzsUSLi+vGOiMXoreUieeXhlkgA53Pwc9Hv0U3wmCyLOTo6slg+fZlNd2Y2MegAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiY3PDqPNwAAAURJREFUOMvNk79Lw0AUxz/amgqNYBcHf8bBrdhABnWQCi4FHQQHVydBJ1en3ubu4tBB8Q8Q3ARBLLiJkCGDW6NQRSHUIQhGShy84jUmGnHxC4+7971c3nvf9w7+IwxgQfFNaamwDbSAhsLZQAiIuAvZGG5Q2rr0S3J102ZxISM2pIWSi0WPUveE3N9GSkBm4yrnX7IRMlIa69Ki968tU0swlP0BgBDixx9kFYVdRcROrVIXnZnlJaZHC7w+OByfXOInlLAClBVdPvq4ukHFmoKXNiPmIltrpUQNTCX6YYfsz+fg2aZ2VOPKAy0/kDhIQl40VLJ59wiTFtWqBcD9TfPbLrjdg1OgPDcG3jV7u/vYHgzPzjP0qzZmgEyOPt5op3gLEbSonzmMV4ps7hSBAOf0nKfIHMRCCBF+ehq6rhH4PoHyzTsT9lgsYELcCQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigXmdeCcQAAAXtJREFUOMvNk88rRFEUxz8MIzKaoWYWFBZiwYwob6GYJZlizcZKWOBPuCvLKQuNhYmVzSwkio2SlaaEjZQyz48sRFPjGb3HdG3u6M3Mm5qycep0zzm3e873e8658B+lAwjb/H6lFckKkAZSttglIAHh9KDGIeZVOqv8kDr1SlGcqIoppVLFHKXKxrtd2fdFFFBodNt9CRqhKlWiBb2o/uvI7BQ68rYQYqvSBDW2Duu2JgKNaJEJgm1NZPQku0dXWA4JiilMAaMA2swiY4M9eOo89GhTzEW6HBEUJ1Ab56e7s55c6ojoWpTj5xwtfUP4FLLI/DKTIZ9jAgF0QpYPC1ytQbRQmN6AC4BaABpoDnjxe2rLN0YIIVc3D+VDxpTy25SmlFKat/L0LisLxZRlxuhmZHwY7/sFsfU9XgHr4Ybk/jbxeILHHLxdHhCLbTj+BcDi7OSagWmNhSUNPh/ZSZxjWGCkvzAB8+mOl5f07x6UUMgjafS5MdJGWbo/W6+PV71qU8EAAAAASUVORK5CYII="];
return c?a[e]:d[e]}
var g_sites_light_ico0="iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhss3LcOZQAAAU5JREFUOMvdkzFLA0EQhd/bO7iIYmklaCUopLAQA6KNaawt9BeIgnUwLHPJRchfEBR7CyGWgiDY2SlIQBT/gDaCoGDudiy8SLwkBiwz1c7y+GZ25i0wnFEqlSZFZKGdi8iiiOR7aU32QkR2c7ncPcljAARAkgckb8IwrGf1fg/oJ8lRAHkR2VDVmOQ8AKjqY1bMHgCGYXhFchnAg6omJGcBXEZRtNoXYK2dMsaMt1qtD9/3p40x5yS9tHICYF1Vn0mOxXH8Uq/Xb389wff9PQDbQRB0t/QNOiPZ1h4B2MoO0fxnYz8dOOcOVbWhqq8kJzzPa3RAXZIkawCenHMjJN/+GiIqlcoFgKKq3pEMAMwAuCa5VK1W3SAfbAIopum+cy5KzwXn3M5AI6XVYlVt1mq1U8/zTlS1CeC9j2+6o1wuz1lrVzpWXLDWTg3pz/0CQnd2Jos49xUAAAAASUVORK5CYII=",g_sites_light_ico=
"data:image/png;base64,"+g_sites_light_ico0,g_pw_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACIUlEQVQ4EX2TOYhTURSG87IMihDsjGghBhFBmHFDHLWwSqcikk4RRKJgk0KL7C8bMpWpZtIqNkEUl1ZCgs0wOo0SxiLMDApWlgOPrH7/5b2QkYwX7jvn/uc//zl3edZ4PPbNGvF4fC4ajR5VrNvt/mo0Gr1ZPOtfgWw2e9Lv9+chX7cs64CS4Oxg3o9GI7tUKv0Q5o1dAiTfCgQCLwnOkfQOu+oSLyJ2A783HA7vIPLGxX0TgVwud4HKn0nc7Pf7N6vV6oZHkkX8FPG3uMfgXC0Wi2vCg/poUKGGcagQI3k7k8mcp5slcGswGDwpl8tfwGJg3xB6Dvey8vz6oH4C3iXcFYjbwiDeo1KafafkC3NjK7iL5ESFGQEUF7Sg+ifZdDp9GnMF/KGmfBdT2HCwZ7TwtrBPC7rQaav6Iv48rqZwg+F+p8hOMBj0IbxfMdMBrW5pAVGV/ztINByENkU0t5BIJEKRSOQ3Aj+Z57iFs1R5NK3EQS6HQqF1zmQdzpFWq3W42WwOTAf1er1PF2USFlC+qxMvFAr3HcexWX+QX6lUvsKpkTyPSEXJkw6MQ4S38Ljdbi8rmM/nY+CvgNcQqdH6U/xrYK9t244jZv6ByUOSiDdIfgBZ12U6dHEHu9TpdIr8F0OP692CtzaW/a6y3y0Wx5kbFHvGuXzkgf0xhKnPzA4UTyaTB8Ph8AvcHi3fnsrZ7Wore02YViqVOrRXXPhfqP8j6MYlawoAAAAASUVORK5CYII=",
g_ff_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVQ4EaVTO26DQBD1ohQWaS2lg9JybZ+AK7hNwx2oIoVf4UPQ0Lj1FdKktevIpel8AKNUkDcWMxpgSaIEaTVv3sx7uztiTdu2s/98DywOw3Dued4Who/M2aIx5lZV1aEsy0+qiwHELyi+Ytl0PQ69SxAxkWIA4RMRTdNsKE59juMcuZd6xIAFeZ6fGCdJ8kY4y7KAuTRNGd7jyEBXsdOPE3a0QGPsniOnnYMO67LgSQN9T41F2QGrQRRFCwyzoIF2qyBuKKbcOgPXdVeY9rMWgNsjf9ccYesJhk3f5dYT1HX9gR0LLQR30TnjkUEcx2uIuS4RnI+aj6sJR0AM8AaumPaM/rRehyWhXqbFAA9kh3/8/NvHxAYGAsZ/il8IalkCLBfNVAAAAABJRU5ErkJggg==",g_close_light_ico=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3UlEQVQ4EaVTOQ7CMBCMETShzcdo4CVOkyJykQb/AXoaPsQT0uLGRZhZxVIirSMDljberOfwaaZpqv5pe5Kttce6rs8QO5SIGWNiCOHhvX+LAMko3hAlfMGAw/6+47fUmdjUEkcEUvGXPicwwqFFxDlaiI+agSoA0tU550G4MJizpgnIJioDQ9/3LxCfHEN+QjcouEqdgQbM1XICHd3pzJhn0mki6hJwH1oQiZdpI+9YKxYAsAFhuWnLfKWTW8IKtPUjAnCLWyBtLHFkD/gweLdx1l89JgobkDSD4toHHT5aJu9+N80AAAAASUVORK5CYII=",g_svgs={},NAV_BAR_HEIGHT_CSS=42,SHOULD_DO_LOGIN_ONLY=!0,SHOULD_DO_ALWAYS=!1;
function popupfill_shoulddofield(a,b,c){var d=["lpcurrpasselt","lpcurruserelt"];if(do_experimental_popupfill&&!(null==b||"undefined"==typeof b.type||"hidden"==b.type)&&("text"==b.type||"password"==b.type||"email"==b.type||!c&&"tel"==b.type||!c&&"url"==b.type||!c&&"textarea"==b.type)){var e=LP_pickFieldName(a,b);if(lp_in_array(e,d))return verbose_log("fieldname "+e+" is blacklisted, skipping"),!1;if(is_search_field(a,b,!c)||is_date_field(b)||LP_looksLikeOTPField(a,b)||LP_explicit_ignored(a,b)||LP_implicit_ignored(a,
b)||LP_isCaptchaField(b))return!1;if(c){if(!chk_form_has_password(a,b.form)&&!checkDocumentForLoginOrphans(a))return verbose&&(a=LP_pickFormName(a,b.form),verbose_log("form "+a+" has no password field?  Ignored")),!1;if(b.form&&is_shopping_form(a,b.form)&&g_aspx_hack&&(isASPpage()&&2<a.getElementsByTagName("form").length||!isASPpage()))return!1}return!0}return!1}var NO_CREATE=!1,OK_CREATE=!0;
function parse_zindex(a){if("string"==typeof a&&-1!=a.indexOf("e")){a=""+parseFloat(a);for(var b="",c=a.length-1;0<=c&&"0"==a.charAt(c);c--)b+="9";a=a.substring(0,c+1)+b}return parseInt(a)}
function getZIndex(a,b,c,d){LPCTR("getzindex");if(null==a||b==a.body||null==b||50<c)return null;var e=0,f=LP_getComputedStyle("undefined"!=typeof window&&window?window:a.defaultView,b);if(null==f)return null;if("absolute"==f.position||"relative"==f.position||"fixed"==f.position){if("auto"==f.zIndex||""===f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?0:parse_zindex(e);e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex)+1:parse_zindex(e)+1}if("auto"==
f.zIndex||""==f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?d+1:parse_zindex(e)+1;e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex):parse_zindex(e)+1}function chk_form_changepw_new(){return!0}
function shouldOfferGenerate(a,b){if(null==a||null==b)return null;var c=!1,d=b.form,e=!1;d||(e=checkDocumentForCPWOrphans(a));var f=!0,g=!0,h=check_nevers(a,g_nevers,a.location.href);null!=h&&(f=h.show_for_generate,g=h.show_for_clickable_icon);f&&chk_form_ask_generate(a,d)&&isInputFieldPassword(a,b)&&g?((currentpw=lpCheckCurrentPWField(d))||(currentpw=lpCheckCurrentPWField(d,!0)),chk_form_changepw(a,d)&&b==lpCheckCurrentPWField(d)?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+
LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):chk_form_changepw_new(a,d)&&b==currentpw?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,b)+" appears to be current PW field in a change password form, offergenerate=false")):(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_pickFormName(a,d)+" field="+LP_pickFieldName(a,
b)+" setting up generate click listener on icon"))):!d&&(f&&e)&&(isInputFieldPassword(a,elt)&&!lpIsFieldCurrentPWField(b))&&(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] orphan field="+LP_pickFieldName(a,b)+" setting up generate click listener on icon"));return c}
function check_nevers(a,b,c){if(a){b={show_for_formfill:!0,show_for_save:!0,show_for_autofill:!0,show_for_generate:!0,show_for_clickable_icon:!0};if(null==g_nevers)return null;if(null==c||0>=c.length)c=a.location.href;a=lpcanonizeUrl(c);c=lpcanonizeUrl(lp_gettld_url(c));for(var d=0;d<LP_objectSize(g_nevers);d++){var e=g_nevers[d];0==e.domain&&lpcanonizeUrl(e.url)!=a||1==e.domain&&c!=lpcanonizeUrl(lp_gettld_url(e.url))||("neverformfills"==e.type?b.show_for_formfill=!1:"neveraccounts"==e.type?b.show_for_save=
!1:"neverautofills"!=e.type&&"neverautologins"!=e.type&&("nevergenerates"==e.type?b.show_for_generate=!1:"nevershowicons"==e.type&&(b.show_for_clickable_icon=!1)))}return b}}function LP_objectSize(a){var b,c=0;if(null==a||"undefined"==typeof a)return 0;if("function"!=typeof a.hasOwnProperty&&"undefined"!=typeof a.length)return a.length;for(b in a)a.hasOwnProperty(b)&&c++;return c}
function chk_form_ask_generate(a,b,c){var d=null;if(null==a||null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))return!1;var e=LP_pickFormName(a,b),f;if(!c&&(f=formcacheget(a,e,"ask_generate"),null!=f))return f;var g="undefined"!=typeof b.elements?b.elements:b.getElementsByTagName("input");Checkpoint.assert(g.length<MAX_FORM_ELEMENTS_HARD,"form "+e+" has too many inputs");if(g.length>MAX_FORM_ELEMENTS_HARD)return formcacheset(a,e,"is_login",!1),!1;try{var h=gettldcached(a.location.href)}catch(k){return!1}var j=
f=0,m=3;c&&(m=2);g_aspx_hack&&isASPpage()&&(m=7);if("tumblr.com"==h&&(tumblr_action_btn=a.getElementById("signup_forms_submit"),null!=tumblr_action_btn)){c=tumblr_action_btn.getElementsByTagName("SPAN");var n;for(n=0;n<c.length;n++)if(0<=c[n].className.indexOf("login_btn")&&checkIsDisplayed(a,c[n],0,h))return!1}if(!checkIsDisplayed(a,b,0,h))return verbose_log("form is not visible: cannot be signup form"),!1;c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=c&&(0<=c.toLowerCase().indexOf("signup")||
0<=c.toLowerCase().indexOf("register"))&&-1==c.toLowerCase().indexOf("login"))return verbose_log("form "+e+" smells like a sign up form: name/classname"),formcacheset(a,e,"ask_generate",!0),!0;var l=!1;if("undefined"!=typeof Math){c=Math.floor(1E4*Math.random());var l=g=n=0,p=null,r=b.elements.length;Checkpoint.assert(r<MAX_FORM_ELEMENTS_SOFT,"form "+e+" too big 1");r>MAX_FORM_ELEMENTS_SOFT&&(r=MAX_FORM_ELEMENTS_SOFT);for(var t=0;t<r;t++){var q=b.elements[t];"INPUT"==q.tagName&&("password"==q.type?
n++:("text"==q.type||"email"==q.type)&&g++);if("INPUT"==q.tagName&&"submit"==q.type||"BUTTON"==q.tagName)if(l++,p=q,10<l&&b.elements.length>MAX_FORM_ELEMENTS_SOFT)return!1}if(1==l&&2>=g&&0<n&&checkButtonHint(p))return verbose_log("form is not signup: prelim test failed"),!1;g=b.elements;for(t=0;t<MAX_FORM_ELEMENTS_SOFT&&t<g.length;t++)if(q=g[t],l=!1,"FIELDSET"!=q.tagName&&valid_by_role(a,q)&&!LP_fieldIsDisabled(q)&&!LP_treat_as_hidden(q)&&("expedia.com"==h||checkIsDisplayed(a,q,0,h,c)))if(!g_use_wacky_disp||
is_wacky_disp(a,q)){if("text"==q.type&&is_watermark(q.className)&&is_watermark_password(q))try{q.type="password"}catch(s){l=!0}p=LP_elt_get_text(q);if("BUTTON"==q.tagName&&"submit"==q.type&&null!=p&&0<=p.indexOf("Create")||"BUTTON"==q.tagName&&"submit"==q.type&&null!=p&&0<=p.indexOf("Register")||"INPUT"==q.tagName&&"submit"==q.type&&null!=q.value&&0<=q.value.indexOf("Create")||"INPUT"==q.tagName&&"submit"==q.type&&null!=q.value&&0<=q.value.indexOf("Register")||"INPUT"==q.tagName&&"submit"==q.type&&
null!=q.value&&0<=q.value.indexOf("Sign me up")||"INPUT"==q.tagName&&"image"==q.type&&null!=q.value&&"create"==q.value)m=2,verbose_log("form "+e+" has a signup button, loosening detection requirements");if(1<n&&LP_passwordAlt(a,q))j++;else if(p=fieldIsDoublePassword(a,q),!b||!("form1"==b.id&&b.action&&"string"==typeof b.action&&b.action.indexOf(".aspx")&&"text"==q.type&&(p===DOUBLE_PW_VISIBLE||p===DOUBLE_SECRET_PW_VISIBLE)))if(!do_bgiconinput||!("text"==q.type&&(p===DOUBLE_TEXT_VISIBLE||p===DOUBLE_SECRET_TEXT_VISIBLE))){if("password"==
q.type||l||"text"==q.type&&p===DOUBLE_TEXT_VISIBLE||"text"==q.type&&p===DOUBLE_SECRET_TEXT_VISIBLE){l=q.getAttribute("placeholder");null!=l&&0<=l.indexOf("Create your")&&(m=2);if("facebook.com"==h&&"string"==typeof q.id&&q.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/))continue;else if("tdbank.com"==h&&"string"==typeof q.name&&"user"==q.name){j++;continue}if(0==f&&1<n&&passwordIsFake(q)){j++;continue}if(0<f&&1<n&&LP_looksLikeOTPField(a,q)){j++;continue}LP_get_input_pattern(a,q)&&!d&&(d=q);f++}else if("email"==
q.type||"text"==q.type||"textarea"==q.type||"tel"==q.type||"url"==q.type)if(treat_text_as_password(q))f++;else{if(LP_isForgetField(q))continue;lpIsVisible(q,!0)&&(l=LP_pickFieldName(a,q),LP_looksLikeOTPField(a,q)?verbose_log("chk_form_ask_generate OTP field ignore on "+l):j++)}if(4<=f||100<=j)return 4<=f&&verbose_log("form "+e+" is not a signup form, too many pw fields [PW:"+f+"/NON:"+j+"]"),100<=j&&verbose_log("form "+e+" is not a signup form, too many non-pw fields [PW:"+f+"/NON:"+j+"]"),formcacheset(a,
e,"ask_generate",!1),!1;if(2<=f||1<=f&&j>=m)return 2<=f&&verbose_log("form "+e+" is a signup form, has enough pw fields [PW:"+f+"/NON:"+j+"]"),1<=f&&j>=m&&verbose_log("form "+e+" is a signup form, has enough pw fields and non-pw fields [PW:"+f+"/NON:"+j+"]"),formcacheset(a,e,"ask_generate",!0),d&&!g_isie&&!g_isfirefox&&sendBG_generate_pattern(a,d),!0}}verbose_log("form "+e+" does not smell like signup form, not enough fields [PW:"+f+"/NON:"+j+"]");formcacheset(a,e,"ask_generate",!1);return!1}}
function passwordIsFake(a){var b=/(?:Account)|(?:Member)|(?:IUO_NAME)/i,c=a.name;return b.exec(a.id)||b.exec(c)?!0:!1}function checkButtonHint(a){if(!a)return!1;var b="INPUT"==a.tagName?a.value:a.innerHTML,c=/(?:Login)|(?:Log.In)|(?:Logon)|(?:Log.on)/i;return c.exec(a.id)||c.exec(b)?!0:!1}function LP_isForgetField(a){if(!a)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_forgot_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}
function LP_isCaptchaField(a){if(!a)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_captcha_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}function LP_isRememberCheckbox(a){if(!a||"checkbox"!=a.type)return!1;var b=a.id;a=a.name;var c=RegExp(lpgs("ff_remember_regexp"),"i");return c.exec(b)||c.exec(a)?!0:!1}
function chk_form_is_nonlogin_form(a,b){if(null==a||null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))return!1;try{var c=gettldcached(a.location.href)}catch(d){return!1}var e=LP_pickFormName(a,b),f=formcacheget(a,e,"is_nonlogin");if(null!=f)return f;f="undefined"!=typeof b.elements?b.elements:b.getElementsByTagName("input");Checkpoint.assert(f.length<MAX_FORM_ELEMENTS_HARD,"form "+e+" has too many inputs");if(f.length>MAX_FORM_ELEMENTS_HARD)return formcacheset(a,e,"is_nonlogin",!0),!0;if(is_search_form(a,
b))return verbose_log("form "+e+" appears to be a search form based on name/action, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;if(!checkIsDisplayed(a,b,0,c))return verbose_log("form is not visible: cannot be non-login form"),!1;var g=c=0,f=b.elements,h=f.length;Checkpoint.assert(h<MAX_INPUTS_HARD,"form "+e+" too big 2");h>MAX_INPUTS_HARD&&(h=MAX_INPUTS_HARD);for(var k=0;k<h;k++){var j=f[k];if("FIELDSET"!=j.tagName&&("email"==j.type||"text"==j.type||"password"==j.type)&&!LP_fieldIsDisabled(j)){if(100<
++g)return formcacheset(a,e,"is_nonlogin",!1),!1;if(!0!=j.disabled&&valid_by_role(a,j)&&lpIsVisible(j)&&!LP_treat_as_hidden(j)){if(is_search_field(a,j,!0)&&8>f.length)return verbose_log("form "+e+" appears to be a search form based on name/classname, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;c++;if(3<=c)return verbose_log("form "+e+" appears to be a non-login form"),formcacheset(a,e,"is_nonlogin",!0),!0}}}formcacheset(a,e,"is_nonlogin",!1);return!1}
function formcacheset(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d||"FF"==b||"none"==b)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}
function formcacheget(a,b,c){if(null==a||(null==b||null==c||0===b.length||0===c.length)||g_ignore_lp_cache)return null;if("FF"==b||"none"==b||"undefined"==typeof a.g_form_attr_cache)return LPCTR("formcache_miss"),null;if(null!=a.g_form_attr_cache[b]&&null!=a.g_form_attr_cache[b][c]){var d=a.g_form_attr_cache[b][c];if("object"==typeof d&&d.tagName&&d.nodeName&&element_is_detached(a,d,0))return a.g_form_attr_cache[b][c]=null,LPCTR("formcache_miss"),null;LPCTR("formcache_hit");return d}LPCTR("formcache_miss");
return null}function formcachereset(a){null!=a&&(a.g_form_attr_cache=[]);return!0}function onresize_handler(a){a="undefined"!=typeof document?document:a.target.document;var b=a.getElementsByTagName("body")[0];a.g_posbodyrect_cache=b.getBoundingClientRect();var c="undefined"!=typeof window&&window?window:a.defaultView;a.g_posbodystyle_cache=c&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;popupfill_resize(a);return!1}
function checkIsDisplayed(a,b,c,d,e,f){if(do_bgiconinput&&!f||b==a.body||null==b||50<c)return!0;if(null==d)try{d=gettldcached(a.location.href)}catch(g){return!1}c="undefined"!=typeof window&&window?window:a.defaultView;for(e=b;e&&e!=a.body;)try{var h=LP_getComputedStyle(c,e);if(null!=h&&"none"!=h.display&&"hidden"!=h.visibility&&(null==e.offsetHeight||""===e.offsetHeight||1<e.offsetHeight||"hidden"!=h.overflow)&&!("expedia.com"==d&&"-1px"==h.marginTop&&1==e.offsetHeight)&&!("dropbox.com"==d&&"register-partial-container"==
b.id&&50>e.offsetHeight))e=e.parentNode;else return!1}catch(k){break}return!0}function countInputs(a,b,c){var d=0,e=0,f=a.getElementsByTagName("INPUT");if("undefined"!=typeof Math){for(var g=0;g<f.length;g++){if(100<g){b||(d+=f.length-g);break}var h="password"==f[g].type;if(!b||h)"checkbox"==f[g].type||"hidden"==f[g].type||(h&&e++,d++)}c&&(a.g_password_cnt=e);return d}}
function LP_getAbsolutePos(a,b,c,d){LPCTR("getAbsolutePos");if(!a||!b)return null;if("undefined"==typeof c||null===c)c=!1;if("undefined"==typeof d||null===d)d=!1;var e=null;try{e=typeof b.getBoundingClientRect}catch(f){e=null}if(!e||"undefined"==e)return null;try{var g=b.getBoundingClientRect(),h,k;h="undefined"==typeof g.width?g.right-g.left:g.width;k="undefined"==typeof g.height?g.bottom-g.top:g.height;var j=LP_get_cached_body_rect(a),e=b=0,m=LP_get_cached_body_style(a);g_bodystyle_relative&&(j&&
m&&"relative"==m.position)&&!d&&(b=j.left,e=j.top);m=d=0;if(!c){var n="undefined"!=typeof window&&window?window:a.defaultView;if("pageXOffset"in n)var l=n.pageXOffset,p=n.pageYOffset;else{var r;c=1;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof a.querySelector&&"undefined"==typeof a.addEventListener?r=1:(j&&(c=Math.round(100*((j.right-j.left)/a.body.offsetWidth))/100),r=c);l=Math.round(a.documentElement.scrollLeft/r);p=Math.round(a.documentElement.scrollTop/r)}d=l;m=p}return{left:g.left+
d-b,top:g.top+m-e,width:h,height:k}}catch(t){return null}}function createPopupFill(a,b){LPpop.set_icon_hint_from_data(a,b)}
function LP_measureText(a,b,c,d,e){var f=LP_measureTextCacheGet(a,b,d);if(null!=f)return f;var f=a.createElement("span"),g=null;if(null==d&&null==c)return g;null==e&&(e=a.body);null==e&&(e=a.getElementById("hiddenel"));e&&(e.appendChild(f),null!=d&&(f.style.cssText=d),null!=c&&(f.style.fontSize=""+c+"px"),f.style.position="absolute",f.style.left="-1000px",f.style.top="-1000px",f.innerHTML=b,g={width:f.clientWidth,height:f.clientHeight},LP_measureTextCacheSet(a,b,d,g),e.removeChild(f));return g}
function getAutoFillArray(a,b,c){var d=[];a=punycode.URLToASCII(a.location.href);lpcanonizeUrl(a);for(var e in b)if(!b[e].genpw||c)d[e]=b[e];return d}
function is_your_popup_showing(a){if(null==a)return!1;var b=!1;try{if(null==a.location){verbose_log("is_your_popup_showing given a firefox zombie document?");var c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;closepopupfills(c);b=!0}}catch(d){b=!0}if(b)return!1;g_isfirefox&&verbose_log("entered is_your_popup_showing for doc="+a.location.href);if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window))return toplevel_iframe_state_get();
if(0<a.location.href.indexOf("popupfilltab.xul"))return!0;a=a.getElementsByTagName("iframe");for(b=0;b<a.length;b++)if(("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&0==a[b].id.indexOf(LPMAGICIFRAME))return!0;return!1}
function dosavesiteicon(a){a=a?1:0;var b=[""],c=null!=g_popupfill_parent_last?g_popupfill_parent_last.form:null;null==c&null==g_popupfill_parent_last&&(c=null!=g_popupfill_parent?g_popupfill_parent.form:null);verbose_log("["+g_docnum+"]: current input form is "+LP_getname(c));if(null==c)g_isfirefox?LP.lpOpenEditWindow(0,!1,!1,null,!0):(verbose_log("["+g_docnum+"]: looking for orphaned INPUT elements"),c=LP_get_form_save_orphans(b,!0),b={url:punycode.URLToASCII(document.location.href),formdata2:c},
sendBG({cmd:"savethesite",notificationdata:b,iframe:a}));else{for(var d=c.elements,e=0,f=0,g=0,h=0;h<d.length;h++)if("FIELDSET"!=d.tagName){var k=d[h].type;"password"==k?f++:"text"==k||"tel"==k||"email"==k?e++:"textarea"==k&&g++}if(1==e&&1==f&&0==g)if(g_isfirefox)LP.lpOpenEditWindow(0);else{c=LP_get_form_save(c,!1,[],!0);if(!c||0==c.length)c+=LP_get_form_save_orphans(b,!0);b={url:punycode.URLToASCII(document.location.href),formdata2:c};sendBG({cmd:"savethesite",notificationdata:b,iframe:a})}else g_isfirefox?
LP.lpOpenEditWindow(0,!1,!1,null,!0):(c=LP_get_form_save(c,!1,[],!0),d=!1,c&&0<c.length&&(d=!0),c+=LP_get_form_save_orphans(b,!0,d),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",notificationdata:b,iframe:a}))}}
function lp_url_is_lastpass(a){if(null==a)return!1;var b="https://lastpass.com/";"undefined"!=typeof base_url&&(b=base_url);return 0==a.indexOf(b)||0==a.indexOf("https://lastpass.com/")||0==a.indexOf("https://lastpass.eu/")?!0:"undefined"!=typeof g_loosebasematching?(a=lp_gettld_url(a),RegExp(a+"/$").test(base_url)):/^https:\/\/([a-z0-9-]+\.)?lastpass\.(eu|com)\//i.test(a)}
function setupIcons(a,b){a||(a=LP_derive_doc());if(!a)return!1;if("undefined"!=typeof g_cpwbot&&g_cpwbot&&"undefined"!=typeof g_in_cpwbot&&g_in_cpwbot)return verbose_log("Change in Progress, skipping setupIcons"),!1;if(do_experimental_popupfill){if("undefined"!=typeof g_isie&&g_isie)if(init_LPfn()&&LPfn)LPfn.ie_reset_popupfillhint(),LPfn.ie_setup_event_handlers(a);else return verbose_log("Danger, Will Robinson"),!1;if(g_isfirefox&&LP&&20>LP.lp_getFFVersionFloat())return!1;"undefined"!=typeof g_isfirefox&&
g_isfirefox?(a.g_input_cnt=countInputs(a,!1,!0),a.g_form_cnt=countFormEquivalents(a),a.g_input_fingerprint=computeFingerprint(a),a.g_did_setupInputObserver=!1):(g_input_cnt=countInputs(a),g_form_cnt=countFormEquivalents(a),g_input_fingerprint=computeFingerprint(a),validate_input_indexes(a));var c=LP_getloggedin(),d=!1;if(g_dologin_clickable||!g_dologin_clickable&&c)d=!0;try{var e;e="undefined"!=typeof punycode?punycode.URLToASCII(a.location.href):a.location.href;if(lp_url_is_lastpass(e)||LP_should_ignore_this_doc(a))return!1}catch(f){return!1}if(d&&
(b||checkForLoginForm(a)||checkDocumentForLoginOrphans(a)||checkForNonLoginForm(a)||checkForSignupForm(a)||checkDocumentForCPWOrphans(a)||checkDocumentForLoginFirstStageForm(a)||checkDocumentForLoginOrphansFirstStage(a)))c=gettldcached(get_doc_location_href(a)),g_isfirefox||"undefined"!=typeof g_isie&&g_isie||sendBG({cmd:"getpopupfillsites",tld:c,url:e}),g_do_icon_number_hint&&(g_icon_number_overrides={sites:-1,formfills:-1}),("undefined"!=typeof window&&window?window:a.defaultView).setTimeout(function(){doc_create_clickable_icons(a,
"",SHOULD_DO_ALWAYS,b)},50)}"function"==typeof setupInputObserver&&setupInputObserver(a);!g_isfirefox&&!g_isie&&g_create_iframe_in_top&&(g_inframe=LP_inIframe(window));return!0}
function checkForLoginForm(a){a||(a=LP_derive_doc());if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);var d=a.getElementsByTagName("form");Checkpoint.assert(d.length<c,"too many forms on page");for(var e=!1,f=0;f<d.length&&f<c;f++){e=chk_form_has_password(a,d[f],!0);if(null==e)break;if(e)return e}return!1}
function checkForNonLoginForm(a){a||(a=LP_derive_doc());if(!a)return!1;try{gettldcached(a.location.href)}catch(b){return!1}var c=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(c=MAX_FORMS_HARD);var d=a.getElementsByTagName("form");Checkpoint.assert(d.length<c,"too many forms on page");for(var e=!1,f=0;f<d.length&&f<c;f++)if(e=chk_form_is_nonlogin_form(a,d[f]))return e;return!1}
function checkForSignupForm(a){a||(a=LP_derive_doc());if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);var c=a.getElementsByTagName("form");Checkpoint.assert(c.length<b,"too many forms on page");for(var d=!1,e=0;e<c.length&&e<b;e++)if(d=chk_form_ask_generate(a,c[e]))return d;return!1}
function chk_form_has_password(a,b,c){if(null==a||null==b||!b||!(b.tagName&&"FORM"==b.tagName.toUpperCase()))return!1;var d=LP_pickFormName(a,b),e=formcacheget(a,d,"is_login");if(null!=e)return e;var f="undefined"!=typeof b.elements?b.elements:b.getElementsByTagName("input");Checkpoint.assert(f.length<MAX_FORM_ELEMENTS_HARD,"form "+d+" has too many inputs");if(f.length>MAX_FORM_ELEMENTS_HARD)return formcacheset(a,d,"is_login",!1),!1;try{var g=gettldcached(a.location.href);if("bankofamerica.com"==
g){var h=a.getElementById("tlpvt-passcode-input");null!==h&&h.removeAttr("disabled")}}catch(k){return!1}for(var j=!1,m=f=h=0,n=null,e=0;e<MAX_FORM_ELEMENTS_SOFT&&e<b.elements.length;e++){var l=b.elements[e];"INPUT"==l.tagName&&("password"==l.type?h++:("text"==l.type||"email"==l.type)&&f++);if("INPUT"==l.tagName&&"submit"==l.type||"BUTTON"==l.tagName)m++,n=l}verbose_log("check for login form: prelimtxt="+f+" prelimpw="+h);if(1==m&&2>=f&&0<h&&checkButtonHint(n))return!0;for(var n=m=0,p=!lpIsVisible(b),
r=!1,f=b.elements,e=0;e<MAX_FORM_ELEMENTS_SOFT&&e<f.length;e++)if(l=f[e],j=!1,"FIELDSET"!=l.tagName&&(check_for_ASP(a,l),valid_by_role(a,l)&&!LP_fieldIsDisabled(l)&&!LP_treat_as_hidden(l))){if("text"==l.type&&is_watermark(l.className)&&is_watermark_password(l))try{l.type="password",lpdbg("onload","switching field from text to password from chk_form_has_password")}catch(t){j=!0}ASP_treat_text_as_password(l)&&(j=!0);(j||"password"==l.type)&&LP_get_input_pattern(a,l);if(1<h&&LP_passwordAlt(a,l))n++;
else if(b=fieldIsDoublePassword(a,l),!("text"==l.type&&(b===DOUBLE_PW_VISIBLE||b===DOUBLE_SECRET_PW_VISIBLE)))if("password"==l.type||j||"text"==l.type&&b===DOUBLE_TEXT_VISIBLE||"text"==l.type&&b===DOUBLE_SECRET_TEXT_VISIBLE){if(!("facebook.com"==g&&"string"==typeof l.id&&l.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)))if("tdbank.com"==g&&"string"==typeof l.name&&"user"==l.name)n++;else{if(g_fillaid&&c)return!0;if(g_aspx_hack&&isASPpage()&&do_bgiconinput)verbose_log("ASP/bgicon login");else if(!lpIsVisible(l)||
g_use_wacky_disp&&!is_wacky_disp(a,l))if(r=!0,p)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,l));else continue;if(0==m&&1<h&&passwordIsFake(l))n++;else if(0<m&&1<h&&LP_looksLikeOTPField(a,l))n++;else if(b=2,l="",g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&(b=4,l=" [ASP]"),++m>=b)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+l+" has too many password fields; do not treat as login form [PW:"+m+"/NON:"+n+"]"),null}}else if("email"==
l.type||"text"==l.type||"textarea"==l.type||"tel"==l.type||"url"==l.type){if(!lpIsVisible(l)||g_use_wacky_disp&&!is_wacky_disp(a,l))if(p)verbose_log("EVALUATING HIDDEN FORM, NOT IGNORING HIDDEN FIELD ANYMORE "+LP_pickFormName(a,l));else continue;n++;if(g_aspx_hack&&5<n||!g_aspx_hack&&2<n)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+" has too many non-password fields; do not treat as login form [PW:"+m+"/NON:"+n+"]"),null}}if(1==m)return verbose_log("Password Form detection: "+
d+" is a login form, has only one passwd field"),formcacheset(a,d,"is_login",!0),!0;if(g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&1<m)return verbose_log("Password Form detection: "+d+" is an ASP form, treat as login form"),formcacheset(a,d,"is_login",!0),!0;r||formcacheset(a,d,"is_login",!1);return!1}
function LP_getElementByIdOrName(a,b,c){"document"==a&&(a=document);if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;c=c?c.toUpperCase():"INPUT";c.toLowerCase();for(var d=LP_getAllInputsByIdOrName(a,b,!0),e=[],f=0;f<d.length;f++)e[e.length]=d[f];var f=e.length,g=a.getElementById(b);if(null!=g){if(0==f||1==f&&(d[0]==g||null==d[0]))return g;e[e.length]=g}if(LP_name_is_inputidx(a,b)&&(b=LP_getinputidx_from_name(a,b),null!==b&&(g=LP_getElementByIdx(a,b),null!=g)))return g;
if(1==f)return e[0];if(0==f)return null;b=[];d=0;f=-1;if("undefined"!=typeof Math){for(var g=Math.floor(1E4*Math.random()),h=0;h<e.length;h++)b[h]=0,e[h].tagName.toUpperCase()==c&&(b[h]+=20,e[h]&&(e[h].tagName&&"INPUT"==e[h].tagName.toUpperCase())&&"hidden"!=e[h].type&&(b[h]+=10)),null!=e[h].style&&"none"!=e[h].style.display&&checkIsDisplayed(a,e[h],0,null,g,!0)&&(b[h]+=5),do_bgiconinput&&(e[h]&&(e[h].tagName&&"INPUT"==e[h].tagName.toUpperCase())&&inputHasLPBackground(e[h]))&&(b[h]+=7),null!=e[h].style&&
"hidden"!=e[h].style.visibility&&(b[h]+=3),e[h]==g_popupfill_parent&&null!=g_popupfill_parent?b[h]+=5:e[h]==a.g_popupfill_parent&&null!=a.g_popupfill_parent&&(b[h]+=5),b[h]>d&&(d=b[h],f=h);return 0<=f?e[f]:null}}
function LP_getAllInputsByIdOrName(a,b,c){if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;var d=!0;null!==c&&(d=c);var e=a.getElementsByName(b);c=[];for(var f=0;f<e.length;f++)c[c.length]=e[f];if(d){a=a.getElementsByTagName("input");e=a.length;e>MAX_INPUTS_SOFT&&(e=MAX_INPUTS_SOFT);for(d=0;d<e;d++)a[d].id==b&&c.push(a[d])}else(b=LP_getElementByIdOrName(a,b))&&c.push(b);return c}function looksLikePassword(a,b){return isInputFieldPassword(a,b)}
function isInputFieldPassword(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"hidden"==b.type)return!1;try{var c=gettldcached(a.location.href)}catch(d){return!1}if(!valid_by_role(a,b))return!1;var e=!1;if("text"==b.type&&is_watermark(b.className)&&is_watermark_password(b))try{b.type="password"}catch(f){e=!0}if("text"==b.type&&(0==b.name.indexOf("pass")||0==b.name.toLowerCase().indexOf(lpgs("Password").toLowerCase())))return RegExp(lpgs("ff_username_regexp"),"i").exec(b.name)&&b.form&&b.form.action&&
0<=b.form.action.indexOf("login")?!1:!0;g_aspx_hack&&isASPpage()&&do_bgiconinput&&"text"==b.type&&0<=b.value.toLowerCase().indexOf(lpgs("Password").toLowerCase())&&(e=!0);return"password"==b.type||e?"facebook.com"==c&&"string"==typeof b.id&&b.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)||"tdbank.com"==c&&"string"==typeof b.name&&"user"==b.name||"google.com"==c&&"string"==typeof b.id&&"Passwd-hidden"==b.id?!1:!0:!1}
function isEmptyObject(a){if("undefined"==typeof Object.keys){var b=Object,c=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=e.length;b.keys=function(a){if("object"!==typeof a&&("function"!==typeof a||null===a))throw new TypeError("Object.keys called on non-object");var b=[],k;for(k in a)c.call(a,k)&&b.push(k);if(d)for(k=0;k<f;k++)c.call(a,e[k])&&b.push(e[k]);
return b}}return 0===Object.keys(a).length}function LP_getname(a,b){if("undefined"!=typeof a&&null!=a){if(b&&"string"==typeof a.id&&""!=a.id)return a.id;if("string"==typeof a.name&&""!=a.name)return a.name;if("string"==typeof a.id)return a.id}return""}
function LP_getWindowWidth(a,b){LPCTR("windowWidth");if(!a)return 0;var c=a.innerWidth,d=a.document;if(!d)return 0;var e=null;"undefined"!=typeof d.body?e=d.body:d.getElementById("main")&&(e=d.getElementById("main"));var f=d.getElementById("_lpinvis");null==f&&(f=d.createElement("div"),f.id="_lpinvis",f.style.left="0px",f.style.right="0px",f.style.top="0px",f.style.height="0px",f.style.visibility="hidden",e.appendChild(f));var g=LP_getComputedStyle("undefined"!=typeof window&&window?window:d.defaultView,
e);if(!g)return 0;d=parseInt(g.marginLeft);g=parseInt(g.marginRight);0<f.offsetWidth&&(c=0<d||0<g?f.offsetWidth+g+d:f.offsetWidth);b||e.removeChild(f);return c}function LP_getWindowHeight(a){if(!a)return 0;if(a.innerHeight)return parseInt(a.innerHeight);var b=a.document.documentElement;b||(b=a.document.body);return b.clientHeight?parseInt(b.clientHeight):0}
function LP_pos_viewport(a){if(!a)return[0,0];var b=0,c=0,d=null;a.document&&(d=a.document.documentElement,d||(d=a.document.body));c=a.pageYOffset?parseInt(a.pageYOffset):d&&d.scrollTop?parseInt(d.scrollTop):0;a.pageXOffset?b=parseInt(a.pageXOffset):d&&d.scrollLeft&&(b=parseInt(d.scrollLeft));isNaN(b)&&(b=0);isNaN(c)&&(c=0);return[b,c]}
function checkDocumentForLoginOrphans(a){a||(a=LP_derive_doc());if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan");if(null!=b)return b;var b=[],c=[],d=[],e=0,f,g=0;if("undefined"!=typeof Math){for(var h=Math.floor(1E4*Math.random()),k=["input"],j=0;j<k.length;j++){var m=a.getElementsByTagName(k[j]),n=m.length;Checkpoint.assert(n<MAX_INPUTS_SOFT,"page has too many inputs");n>MAX_INPUTS_SOFT&&(n=MAX_INPUTS_SOFT);for(var l=0;l<n;l++)if(checkIsDisplayed(a,m[l],0,null,h)){f=m[l];if(null!=f.id&&""!=
f.id){var p=d[f.id];if(null==p)d[f.id]=!0;else continue}if(null!=f.name&&""!=f.name)if(p=c[f.name],null==p)c[f.name]=!0;else continue;if(lp_in_array(LP_pickFieldName(a,f),b))verbose_log("fieldname "+b[p]+" is blacklisted, skipping");else{var r=fieldIsDoublePassword(a,f);if(null==f.form&&("password"==f.type||"text"==f.type&&r===DOUBLE_TEXT_VISIBLE||"text"==f.type&&r===DOUBLE_SECRET_TEXT_VISIBLE)){e++;var r=[],t;t=LP_pickFieldName(a,f);f=LP_getname(f);t&&r.push(t);f&&t!=f&&r.push(f);for(f=0;f<r.length;f++)if((t=
r[f])&&0<=t.toLowerCase().indexOf(lpgs("password"))&&0<l){var q=m[l-1];t=LP_pickFieldName(a,q);var q=LP_getname(q),s=RegExp(lpgs("ff_username_regexp"),"i");if(s.exec(t)||s.exec(q)){g++;break}}}if(2<=e&&2<=g)break}}}if(1<=e||1==g)return formcacheset(a,"fakedoc","orphan",!0),!0;formcacheset(a,"fakedoc","orphan",!1);return!1}}
function do_icon_mouseover(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="1",d.style.filter="alpha(opacity=100)"),!1;if(null!=d){var e=!0;if(null!=a.getElementById(b)){var f=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))f=c.fillhint;"formfills"==f?(d.src=ff_svg,e=!1):"offersave"==f?e=!1:"generate"==f&&g_use_grey_icons&&(d.src=pw_svg,e=!1)}e&&(d.src=sites_svg);d.style.opacity="1";d.style.filter=
"alpha(opacity=100)"}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&g_icon_shading&&(a.style.backgroundColor="#CCFF99"))}
function do_icon_mouseout(a,b,c){if(null==a||null==b)return!1;var d=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=d&&(d.style.opacity="0.6"),!1;if(null!=d){if(null==a.getElementById(b))return!1;var e=!1;c=LP_pickFieldName(a,c);if(c=getIconState(a,c))e=c.fillhint;if(!e||"sites"!==e&&"formfills"!==e&&"generate"!==e&&"offersave"!==e)e="default";"default"==e||"sites"==e?(d.src=sites_svg,d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"formfills"==e?(d.src=
ff_svg,d.style.opacity="0.6",d.style.filter="alpha(opacity=60)"):"generate"==e&&(d.src=pw_svg,d.style.opacity="0.6",d.style.filter="alpha(opacity=60)")}g_do_icon_number_hint&&(a=a.getElementById(b+"_numspan"),null!=a&&(g_icon_shading?a.style.backgroundColor="#FFFFFF":a.style.display=e&&g_icon_numbers&&1<g_icon_numbers[e]?"block":"none"))}
function do_icon_number_hint(a,b,c){if("undefined"!=typeof g_icon_number_overrides){g_icon_number_overrides.sites=null==a||"undefined"!=typeof parseInt&&0>parseInt(a)||"undefined"==typeof parseInt&&0>a?-1:a;g_icon_number_overrides.formfills=null==b||"undefined"!=typeof parseInt&&0>parseInt(b)||"undefined"==typeof parseInt&&0>b?-1:b;if(do_bgiconinput){if(!c&&(c=LP_derive_doc(),!c))return;refresh_input_all_icon_bg(c)}g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&
LP.lp_handle_buttons_all("refresh")}}function do_save_site_success_msg(a){if(g_show_save_success_msg){var b={waitms:1500,loc:"ur",id:"__lpsavemsgdiv",msg:lpgs("You have saved your password to your LastPass Vault.")};return popup_notification_msg(a,b)}return!1}
function do_iframe_sad_msg(a){if(g_show_safari_csp_msg){var b={waitms:3500,loc:"urv",id:"__lpsadmsgdiv",msg:lpgs("The LastPass popup has been blocked from loading on this site. Please fill using the LastPass Icon.")};return popup_notification_msg(a,b)}return!1}
function popup_notification_msg(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;var c=b.loc,d=b.id,e=b.waitms,f=b.msg,g=b.msghtml,h=window;!h&&"undefined"!=typeof LP&&(h=LP.getBrowser().ContentWindow);if(!a||!b||!f&&!g||!d||!c||!h)return!1;var k=a.createElement("DIV");k.id=d;var j=a.createElement("div");j.style.cssText="position:absolute !important; border-style:transparent !important; border-width:1px !important; border-color:transparent !important; font-size:9px; font-family: Arial,Helvetica,sans-serif; height:11px !umportant ; width: 11px !important; top:0px !important; right:0px !important; background-color: transparent; margin: 0 !important; ; padding: 0px 2px !important; text-align:center; cursor: pointer; ";
LP_elt_set_text(j,"X");k.appendChild(j);var m=a.createElement("div");m.id=d+"_text";k.appendChild(m);f?LP_elt_set_text(m,f):g&&(m.innerHTML=g);d=LP_getWindowWidth(h);if(!d)return!1;(f=LP_getWindowHeight(h))||(f=0);g=f=0;switch(c){case "ul":g=f="25px";break;case "ulv":f=25+LP_pos_viewport(h)[0]+"px",g=25+LP_pos_viewport(h)[1]+"px";case "dock":break;case "urv":f=d-parseInt("210px")-30+"px";g=25+LP_pos_viewport(h)[1]+"px";break;default:f=d-parseInt("210px")-30+"px",g="25px"}c="position:absolute !important; visibility:visible !important; z-index:"+
CLICKABLE_ICON_ZINDEX+" !important; border-style:transparent !important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; width: 210px !important; top:"+g+" !important; left:"+f+" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 5px 5px 5px 15px !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMi1jMDAxIDYzLjEzOTQzOSwgMjAxMC8xMC8xMi0wODo0NTozMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RTA4N0Y4OEZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RTA4N0Y4N0ZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBNYWNpbnRvc2giPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMEEzMzFENkUxMjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqEZ7U4AAAAwUExURfL6+uHMzaoWLIoDFKVJJ2oEFsQaK7cCHMtfaNWrEcFJOsg2PsqnqdWGi584RAAAAIK7gZ4AAAAQdFJOU////////////////////wDgI10ZAAAAWUlEQVR42jzMUQ4AMQQEUKpoFnX/2+403exEZN4H1DHsZjQ9/kcOgsN4fVhURXVhxkRsBkxnPmCOg8xEzRyAuAOJEwVk0cIPAbbIriG5D6Zi31Fq/dOvAAMADDMDTO9yI2MAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;";
c="undefined"!=typeof k.style.opacity?c+"opacity: 1.0;":c+"filter:alpha(opacity=100)";k.style.cssText=c;"undefined"!=typeof a.body?a.body.appendChild(k):a.getElementById("main")&&a.getElementById("main").appendChild(k);e&&("number"==typeof e&&0<e)&&setTimeout(function(){close_popup_notification_msg(a,k.id,0);return!1},e);LP_addEventHandler(j,"click",function(){close_popup_notification_msg(a,k.id,null);return!1});return!0}
function close_popup_notification_msg(a,b,c){a||(a=LP_derive_doc());if(!a||!b)return!1;var d=a.getElementById(b);if(d){"undefined"==typeof c?c=0:"string"==typeof c&&(c=parseInt(c));if(null===c||isNaN(c))return d.parentNode.removeChild(d),!1;c<FADE_MAXSTATES?("undefined"!=typeof d.style.opacity?d.style.opacity=(100-100/FADE_MAXSTATES*(c+1))/100:d.style.filter="alpha(opacity="+(100-20*(c+1))+")",c++,setTimeout(function(){close_popup_notification_msg(a,d.id,c);return!1},10)):d.parentNode.removeChild(d)}return!1}
function destroy_save_site_success_msg(a,b,c){return close_popup_notification_msg(a,b,c)}
function closepopupfills(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){g_isfirefox?clear_popup_heartbeat(g_popup_iframe_doc):g_isie||sendBG({cmd:"clear_popup_heartbeat"});"undefined"!=typeof g_popup_iframe_doc&&(g_popup_iframe_doc=null);g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&toplevel_iframe_state_get()&&sendBG({cmd:"closepopuptoplevel"});var b,c=a.getElementsByTagName("iframe"),d=[];for(b=0;b<c.length;b++)d[b]=c[b];for(b=0;b<c.length;b++){var e=d[b];if("undefined"!=
typeof e.id&&null!=e.id){var f=LPMAGICIFRAME;0==e.id.indexOf(f)&&(g_use_grey_icons&&(f=e.id.substr(f.length),null!=LP_getElementByIdOrName(a,f)&&revert_clickable_icon(a,f)),verbose_log("deleting iframe named "+e.id),g_iframe_dims={},e.parentNode&&e.parentNode.removeChild(e))}}do_icon_number_hint(-1,-1,a);if(g_double_password_hack||g_double_secret_password_hack)if(g_double_secret_password_hack=g_double_password_hack=!1,g_input_cnt=0,g_isfirefox){for(a=LP.getBrowser().contentWindow;null!=a.top&&a.top!=
a;)a=a.top;a=lpGetBrowserForDocument(a.document);verbose_log("checkShouldRecheck post closepopup");LP.checkShouldRecheck(a)}else g_double_password_wtf?(g_form_cnt=g_input_cnt=0,checkShouldRecheck()):(formcachereset(a),fieldcachereset(a),setupIcons(a));g_popupfill_parent_last=g_popupfill_parent;g_popupfill_parent=null;g_minheight_override=g_minwidth_override=g_popupfill_iframe_height_save=g_popupfill_iframe_width_save=g_popupfill_ctr=0;"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&
(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!1)}}function popupfill_resize(a){do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),null==a&&"undefined"!=typeof g_isfirefox&&g_isfirefox?end_weasel():0<get_doc_location_href(a).indexOf(".xul")||(relocate_popupfill_clickables(a),relocate_popupfill_iframes(a),!1==g_weaseled&&weasel(100),g_weaseled=!0))}var MSGDIVID="__lpsuggestmsgdiv";function do_save_suggest_msg(a,b){if(null!=b&&!do_bgiconinput)return!1}
function destroy_save_suggest_msg(){return!1}function LP_measureTextCacheSet(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d)return null;"undefined"==typeof a.g_LP_measureText_cache&&(a.g_LP_measureText_cache=[]);null==a.g_LP_measureText_cache[c]&&(a.g_LP_measureText_cache[c]={});a.g_LP_measureText_cache[c][b]=d;return!0}
function LP_measureTextCacheGet(a,b,c){if(null==a||null==b||null==c||0===b.length||0===c.length)return null;if("undefined"==typeof a.g_LP_measureText_cache)return LPCTR("measureText_miss"),null;if(null!=a.g_LP_measureText_cache[c]&&null!=a.g_LP_measureText_cache[c][b])return LPCTR("measureText_hit"),a.g_LP_measureText_cache[c][b];LPCTR("measureText_miss");return null}
function chk_form_changepw(a,b){if(null==a||null==b)return!1;for(var c=lpCheckCurrentPWField(b),d=!1,e=null,f=null,g=1;2>=g;g++){var d=!1,e=f=null,h=-1;if(1==g){if(c)for(var k=0;k<b.elements.length;k++)if(b.elements[k]==c){h=k+1;break}}else h=0;if(-1!=h){for(k=h;k<b.elements.length;k++)if(h=b.elements[k],"FIELDSET"!=h.tagName)if(isInputFieldPassword(a,h)){if(d||!e||!f)if(f=e,e=h,d&&e&&f)break;d=!0}else d=!1;if(e&&f)break}}return null!=e&&null!=f&&null!=c?!0:!1}
function change_clickable_icon_to_cancel(a,b){if(null!=a&&g_use_grey_icons){var c=a.getElementById(b+"_icon");if(null!=c){if(null==a.getElementById(b))return!1;c.src=close_svg;c.style.opacity="0.6";c.style.filter="alpha(opacity=60)"}}}
function revert_clickable_icon(a,b){verbose_log("entered revert_clickable_icon");if(null!=a&&g_use_grey_icons){var c=LP_getElementByIdOrName(a,b),d=getIconState(a,b),e=!1,f="sites";d&&"undefined"!=typeof d.dofloater&&(e=d.dofloater);d&&"undefined"!=typeof d.fillhint&&(f=d.fillhint);verbose_log("entered BG image revert");c?e?reset_floating_icon(a,c,f):set_input_icon_image(a,c,f):verbose_log("could not find field named "+field_id)}}
function visual_cue_frag(a,b){var c="";if(null===a||0>=a.length)return c;popup_show_menu_expand_visual_cue&&(c="",g_visual_cue_on_hover&&(c=" style='display:none;'"),c="<span id='"+a+lp_ofa(b)+"' expander='true' class='expander' "+c+"><img id='"+a+"img"+lp_ofa(b)+"' src='arrow.png' />  </span>\n");return c}function conditional_create_popup(){return!1}
function form_get_password(a,b){a||(a=LP_derive_doc());if(!a||!b)return null;var c=LP_pickFormName(a,b),d=formcacheget(a,c,"password_field");if(null!==d)return d;if(!0===formcacheget(a,c,"nopasswords"))return null;var d=null,e,f=[],f="FORM"==b.tagName.toUpperCase()?b.elements:b.getElementsByTagName("INPUT");Checkpoint.assert(null!==f&&0<f.length,"empty form?");if("undefined"==typeof Math)return null;var g=f.length;Checkpoint.assert(g<MAX_FORM_ELEMENTS_HARD,"form "+c+" too big 3");g>MAX_FORM_ELEMENTS_HARD&&
(g=MAX_FORM_ELEMENTS_HARD);var h=0;for(e=0;e<g;e++)isInputFieldPassword(a,f[e])&&h++;e=Math.floor(1E4*Math.random());for(var k=0;k<g;k++){var j=f[k];if("FIELDSET"!=j.tagName&&(checkIsDisplayed(a,j,0,null,e)&&isInputFieldPassword(a,j))&&!(1<h&&(passwordIsFake(j)||LP_looksLikeOTPField(a,j)||!valid_by_role(a,j)||LP_fieldIsDisabled(j)||LP_treat_as_hidden(j)||is_search_field(a,j,!0)))){d=j;break}}null===d&&0===h&&formcacheset(a,c,"nopasswords",!0);formcacheset(a,c,"password_field",d);return d}
function form_get_username(a,b){a||(a=LP_derive_doc());if(!a||!b)return null;var c=[],c="FORM"==b.tagName.toUpperCase()?b.elements:b.getElementsByTagName("INPUT");Checkpoint.assert(null!==c);var d=null,e=LP_pickFormName(a,b),f=formcacheget(a,e,"username_field");if(null!==f)return f;if("undefined"==typeof Math)return null;f=c.length;Checkpoint.assert(f<MAX_FORM_ELEMENTS_HARD,"form "+e+" too big 4 ");f>MAX_FORM_ELEMENTS_HARD&&(f=MAX_FORM_ELEMENTS_HARD);for(var g=Math.floor(1E4*Math.random()),h=0;h<
f;h++){var k=c[h];if(!("FIELDSET"==k.tagName||"hidden"==k.type))if(valid_by_role(a,k)&&!LP_fieldIsDisabled(k)&&!is_search_field(a,k,!0)&&checkIsDisplayed(a,k,0,null,g)&&("text"==k.type||"email"==k.type||looksLikeUsername(k))){if(isFirstFieldNonLoginSubForm(a,k))return null;d=k;break}}formcacheset(a,e,"username_field",d);return d}
function doc_get_orphan_username(a){if(!a&&(a=LP_derive_doc(),!a))return null;var b;if("undefined"!=typeof Math){b=formcacheget(a,"orphans","username_field");if(null!==b)return b;if("none"==b)return null;if((b=get_javaservlet_fields(a,g_is_specialsite))&&2==b.length&&b[0])return formcacheset(a,"orphans","username_field",b[0]),b[0];var c=doc_get_form_equivalents(a);if(c&&0<c.length)for(b=0;b<c.length;b++){var d=form_get_username(a,c[b]);if(d)return formcacheset(a,"orphans","username_field",d),d}formcacheset(a,
"orphans","username_field","none");return null}}
function doc_get_orphan_password(a){if(null==a)return null;if("undefined"!=typeof Math){var b=formcacheget(a,"orphans","password_field");if(null!==b)return b;if("none"==b)return null;if((b=get_javaservlet_fields(a,g_is_specialsite))&&2==b.length&&b[1])return formcacheset(a,"orphans","password_field",b[1]),b[1];if((b=doc_get_form_equivalents(a))&&0<b.length)for(x=0;x<b.length;x++){var c=form_get_password(a,b[x]);if(c)return formcacheset(a,"orphans","password_field",c),c}formcacheset(a,"orphans","password_field",
"none");return null}}function set_active_username_password(a,b){if(null==a)g_popup_active_password=g_popup_active_username=null;else{var c=null,d=null;null==b?checkDocumentForLoginOrphans(a)&&(c=doc_get_orphan_username(a),d=doc_get_orphan_password(a)):(c=form_get_username(a,b),d=form_get_password(a,b));g_popup_active_username=c;g_popup_active_password=d}}
function looksLikeEmail(a,b){return null==a||null==b||!("text"==b.type||"email"==b.type)?!1:"email"==b.type||RegExp(lpgs("ff_email_regexp"),"i").exec(b.name)?!0:!1}
function is_search_field(a,b,c){if(null==a||(null==b||"INPUT"!=b.tagName)||"text"!=b.type)return!1;null===c&&(c=!1);var d=LP_pickFieldName(a,b),e=fieldcacheget(a,d,"search");if(null!=e)return e;var e=b.form,f=[];null!=e&&(f=e.elements);if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&0<=b.parentNode.className.toLowerCase().indexOf("login")&&b.className&&0<=b.className.toLowerCase().indexOf("search"))return!1;if((null!=b.className&&0<=b.className.toLowerCase().indexOf("search")||
0<=b.className.toLowerCase().indexOf("srch")||0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch")||0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch"))&&0>b.name.toLowerCase().indexOf("user")&&0>b.name.toLowerCase().indexOf("login")&&0>b.id.toLowerCase().indexOf("user")&&0>b.id.toLowerCase().indexOf("login")&&(c||5>f.length))return fieldcacheset(a,d,"search",!0),!0;c=RegExp(lpgs("ff_search_regexp"),"i");if(c.exec(b.name)||c.exec(b.id))if(c=
b.name&&b.name.match(/[qQ]/)||b.id&&b.id.match(/[qQ]/),e=RegExp(lpgs("ff_email_regexp"),"i"),f=RegExp(lpgs("ff_username_regexp"),"i"),c&&b.name&&!b.name.match(/^[qQ]/)&&(!b.id||b.id&&!b.id.match(/^[qQ]/)))pass;else if(c&&b.id&&!b.id.match(/^[qQ]/)&&(!b.name||b.name&&!b.name.match(/^[qQ]/)))pass;else if(c&&(f.exec(b.name)||f.exec(b.id)||e.exec(b.name)||e.exec(b.id)))pass;else return verbose_log("field "+d+" appears to be a search field based on regexp"),fieldcacheset(a,d,"search",!0),!0;c=b.getAttribute("placeholder");
if(null!=c&&0<=c.toLowerCase().indexOf("search"))return verbose_log("field "+d+" appears to be a search field based on placeholder text"),fieldcacheset(a,d,"search",!0),True;if("rds-instances-filter-txtbx"==b.id)return verbose_log("field "+d+" appears to be a search field based on manually added searchtext"),fieldcacheset(a,d,"search",!0),!0;if(b.parentNode&&"FORM"!=b.parentNode.tagName&&b.parentNode.className&&(0<=b.parentNode.className.toLowerCase().indexOf("search")||0<=b.parentNode.className.toLowerCase().indexOf("srch"))||
"search"==b.getAttribute("role"))return fieldcacheset(a,d,"search",!0),!0;c=b.getAttribute("spellcheck");if(b.className&&0<=b.className.indexOf("tt-input")&&c&&"false"===c)return fieldcacheset(a,d,"search",!0),!0;fieldcacheset(a,d,"search",!1);return!1}
function is_date_field(a){if(!a)return!1;var b=a.name,c=/(?:date)|(?:calendar)/i,d=/(?:validate)/i,b=a.name,e=a.id,f=a.className;if(c.exec(b)||c.exec(e)||c.exec(f))return d.exec(b)||d.exec(e)||d.exec(f)?!1:!0;if(a=a.getAttribute("placeholder"))if(a=a.toLowerCase(),-1!=a.indexOf("yyyy")||-1!=a.indexOf("/yy")||-1!=a.indexOf("mm/"))return!0;return!1}
function is_search_form(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b),d=formcacheget(a,c,"search");if(null!=d)return d;if(null!=b.id&&0<b.id.length&&"undefined"!=typeof b.id.toLowerCase&&(0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch"))||null!=b.name&&0<b.name.length&&"undefined"!=typeof b.name.toLowerCase&&(0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch")))return verbose_log("form "+c+" appears to be a search form based on name/id "),
formcacheset(a,c,"search",!0),!0;if("search"==b.getAttribute("role"))return formcacheset(a,c,"search",!0),!0;formcacheset(a,c,"search",!1);return!1}var g_lp_form_num=1;
function LP_pickFormName(a,b){var c="none";if(null!=b&&(c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),null==c||0>=c.length))if(null!=b.action&&"string"==typeof b.action&&0<=b.action.length||null!=b.className&&0<=b.className.length?(c=b.action,"string"!=typeof c&&(c=b.getAttribute("action")),c="FF"+c+b.className):c="none","FF"==c||"none"==c){var d=b.getAttribute("lpformnum");d||(d=g_lp_form_num++,b.setAttribute("lpformnum",d));c+="lpformnum"+d}return c}
function looksLikeUsername(a,b){if("undefined"==typeof b||null===b)b=!1;if(!b&&"text"!=a.type&&"email"!=a.type&&"url"!=a.type)return!1;var c=RegExp(lpgs("ff_username_regexp"),"i");if(c.exec(a.name)||a.id&&c.exec(a.id))return!0;var d=a.getAttribute("placeholder");if(null!=d&&0<=d.indexOf("Login"))return!0;d=RegExp(lpgs("ff_loginform_regexp"),"i");if(a.form)for(var e=a.form.elements,f=0;f<e.length;f++)if("submit"==e[f].type&&(e[f].name&&c.exec(e[f].name)||d.exec(e[f].name)))return!0;c=/^id$|.*-id|online.*id$|.*Id$|onlineId\d?$/i;
if(c.exec(a.name))return!0;if(g_is_specialsite){c=RegExp(lpgs("ff_bankacctnum_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_company_regexp"),"i");if(c.exec(a.name))return!0;c=RegExp(lpgs("ff_email_regexp"),"i");if(c.exec(a.name))return!0}return!1}function formHasUsernameField(a){if(a=a.form){a=a.elements;for(var b=0;b<a.length;b++){var c=a[b];if("text"==c.type||"email"==c.type)return!0}}return!1}
var DOUBLE_TEXT_VISIBLE=1,DOUBLE_PW_VISIBLE=2,DOUBLE_SECRET_TEXT_VISIBLE=3,DOUBLE_SECRET_PW_VISIBLE=4,NOT_DOUBLE_PW=0;
function fieldIsDoublePassword(a,b){"document"==a&&(a=document,b=LP_getElementByIdOrName(a,b));if(null==a&&(a=document,!a))return!1;if(null==b||"checkbox"==b.type||"button"==b.type||"submit"==b.type||"select-one"==b.type)return NOT_DOUBLE_PW;var c=null,d=null,e=null,f=null;if("undefined"!=typeof b.previousElementSibling)c=b.previousElementSibling;else if((c=b.previousSibling)&&null!=c.nodeType&&3==c.nodeType)c=c.previousSibling;if("undefined"!=typeof b.nextElementSibling)d=b.nextElementSibling;else if((d=
b.nextSibling)&&null!=d.nodeType&&3==d.nodeType)d=d.nextSibling;c&&"INPUT"!=c.tagName&&(c=null);d&&"INPUT"!=d.tagName&&(d=null);if(c){if("undefined"!=typeof c.previousElementSibling)e=c.previousElementSibling;else if((e=c.previousSibling)&&null!=e.nodeType&&3==e.nodeType)e=e.previousSibling;e&&"INPUT"!=e.tagName&&(e=null)}if(d){if("undefined"!=typeof d.nextElementSibling)f=d.nextElementSibling;else if((f=d.nextSibling)&&null!=f.nodeType&&3==f.nodeType)f=f.nextSibling;f&&"INPUT"!=f.tagName&&(f=null)}if("undefined"!=
typeof Math){var g=Math.floor(1E4*Math.random());if("password"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)&&d&&"text"==d.type&&checkIsDisplayed(a,d,-1,null,g)&&f&&"text"==f.type&&checkIsDisplayed(a,f,-1,null,g)||"text"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&checkIsDisplayed(a,c,-1,null,g)&&e&&"password"==e.type&&!checkIsDisplayed(a,e,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double secret password hack"),
g_double_secret_password_hack=!0,DOUBLE_SECRET_TEXT_VISIBLE;if("password"==b.type&&checkIsDisplayed(a,b,-1,null,g)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,g)||"text"==b.type&&!checkIsDisplayed(a,b,-1,null,g)&&d&&"password"==d.type&&checkIsDisplayed(a,d,-1,null,g))return verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE;var e=null!=b&&lpIsVisible(b,!0),f=null!=c&&lpIsVisible(c,!0),g=null!=d&&lpIsVisible(d,!0),h=null!=b&&
looksLikeUsername(b),k=null!=c&&looksLikeUsername(c),j=null!=d&&looksLikeUsername(d);return"password"==b.type&&!e&&c&&"text"==c.type&&f&&!k||"text"==b.type&&e&&!h&&d&&"password"==d.type&&!g||"password"==b.type&&!e&&d&&"text"==d.type&&g&&!j||"text"==b.type&&e&&!h&&c&&"password"==c.type&&!f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_TEXT_VISIBLE):"password"==b.type&&e&&c&&"text"==c.type&&!f&&!k||"text"==b.type&&!e&&d&&"password"==d.type&&
g||"password"==b.type&&e&&d&&"text"==d.type&&!g&&!j||"text"==b.type&&!e&&c&&"password"==c.type&&f?(verbose_log("field "+LP_pickFieldName(a,b)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE):NOT_DOUBLE_PW}}var g_did_setupInputObserver=!1;
function setupInputObserver(a){null==a&&(a=document);var b;if(b=do_experimental_popupfill)b="undefined"!=typeof g_isfirefox&&g_isfirefox?a?a.g_did_setupInputObserver:null:g_did_setupInputObserver,b=!b;if(b){b="undefined"!=typeof window&&window?window:a.defaultView;var c=null;if("undefined"!=typeof WebKitMutationObserver)c=new WebKitMutationObserver(function(a){setTimeout(function(){mutationObserverCallBack(a)},0)});else if("undefined"==typeof MutationObserver)if("undefined"!=typeof b.MutationObserver){if(a&&
a.location&&a.location.href.indexOf(".xul"))return;c=new b.MutationObserver(function(a){mutationObserverCallBack(a)})}else return;null!=c&&(c.observe(a,{childList:!0,subtree:!0}),"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&(a.g_did_setupInputObserver=!0):g_did_setupInputObserver=!0)}}
function mutationObserverCallBack(a){LPCTR("mutationObserver");var b=!1;a.forEach(function(a){g_isfirefox&&LP.getBrowser();var c;if(!1==b)for(c=0;c<a.addedNodes.length;c++){var f=a.addedNodes[c];if("INPUT"==f.tagName||"SCRIPT"==f.tagName&&""!=f.src&&""===f.innerHTML){b=!0;break}}if(!1==b)for(c=0;c<a.removedNodes.length;c++)if("INPUT"==a.removedNodes[c].tagName){b=!0;break}});a=(new Date).getTime();if(b){if(g_isfirefox){for(var c=LP.getBrowser().contentWindow;null!=c.top&&c.top!=c;)c=c.top;c=lpGetBrowserForDocument(c.document);
verbose_log("mutation observer triggers checkShouldRecheck");LP.checkShouldRecheck(c)}else checkShouldRecheck();g_last_recheck=a}}
function enableScrollOnIframe(a,b){null==b&&(b=document?document:LP.getBrowser().contentDocument);if(null==b)return null;verbose_log("enabling Scroll on Iframe for "+b.location.href);var c=b.getElementsByTagName("IFRAME"),d,e=null;if(null!=c&&0<c.length)for(d=0;d<c.length;d++){var e=c[d],f=a.replace(/^(https:|http:)/,"");verbose_log("checking iframe src="+lp_ofa(e.src)+" passed href="+lp_ofa(a));if(e.src==a||0<e.src.indexOf(a)||0<e.src.indexOf(f))"undefined"!=typeof g_isie&&g_isie?(e.setAttribute("scrolling",
"auto"),e.style.overflow="visible",e.style.maxHeight="none"):(e.setAttribute("scrolling","auto"),e.style.overflow="auto"),verbose_log("enabling scroll on iframe to "+lp_ofa(a))}}
function enableScrollWithinIframe(a,b){null==a&&(a=document);null==b&&(b=window);if(is_your_popup_showing(a)&&get_win_self(b)!=b.top)if(verbose_log("enabling scroll on body of iframe"),g_isfirefox)a.body.style.overflow="auto";else if(g_isie){var c=0;"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&(c=LPfn.getDocumentMode(document));7<c?(a.body.style.overflow="visible",a.body.setAttribute("scroll","auto")):a.body.setAttribute("overflow","auto")}else a.body.style.overflow="auto"}
function LP_getIframeBySrc(a,b){null==a&&(a=document);var c=a.getElementsByTagName("IFRAME"),d;for(d=0;d<c.length;d++)if(c[d].src==b)return c[d];return null}function destroy_clickables(a){do_experimental_popupfill&&(a||(a=document),null!=a&&(end_weasel(a),closepopupfills(a),closeclickableicons(a),g_save_suggest_msg&&setTimeout(function(){destroy_save_suggest_msg(a,MSGDIVID,null);return!1},0),g_isie&&remove_LPfn()))}
function closeclickableicons(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){verbose_log("closeclickableicons called on "+a.location.href);var b=getAllIconStates(),c,d;for(c=0;c<b.length;c++){var e=b[c];(d=e.IHTMLElement)||(d=LP_getElementByIdOrName(a,e.idorname));if(!e.dofloat&&e.inframe&&!d)if(g_isfirefox)try{var f,g,h=a.getElementsByTagName("IFRAME");for(f=0;f<h.length;f++)g=h[f].contentDocument,(d=LP_getElementByIdOrName(g,e.idorname))&&"INPUT"==d.tagName&&removeLPBackground(d)}catch(k){verbose_log("Error frame traverse "+
k.message),g=null}else!g_isie&&g_create_iframe_in_top&&pass;else!e.dofloater&&(d&&inputHasLPBackground(d))&&removeLPBackground(d);resetAllIconStates()}b=LP_get_icon_divs(a);for(f in b)b.hasOwnProperty(f)&&null!=a.getElementById(b[f])&&(g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[f]),LP_delete_floating_icon(a,b[f]));LP_reset_icon_divs(a)}}
function sort_popupfill_bylasttouch(a,b){return(null==b||null==b.last_touch||0==b.last_touch?1073741824:b.last_touch)-(null==a||null==a.last_touch||0==a.last_touch?1073741824:a.last_touch)}
function ContigPWHack(a,b,c){null===a&&(a=document);if(null===a||"undefined"==typeof a.getElementsByTagName)return!1;var d=lpCountInputFields(b);if("undefined"!=typeof Math){b=Math.floor(1E4*Math.random());if((3==d.passwordvisible||4==d.passwordvisible)&&!0===d.passwordsContiguous)for(var e=a.getElementsByTagName("input"),d=0;d<e.length&&!(100<d);d++)if(e[d]==c){if("undefined"!=typeof e[d+1]&&"password"==e[d+1].type&&"undefined"!=typeof e[d+2]&&"password"==e[d+2].type&&checkIsDisplayed(a,e[d],-1,
null,b)&&checkIsDisplayed(a,e[d+1],-1,null,b)&&checkIsDisplayed(a,e[d+2],-1,null,b))return!0;break}return!1}}
function isContigPW(a,b,c){null==b&&(b=a);var d=b.getElementsByTagName("input");if("undefined"!=typeof Math){var e=Math.floor(1E4*Math.random());for(b=0;b<d.length;b++)if(d[b]==c&&"password"==d[b].type){if("undefined"!=typeof d[b+1]&&"password"==d[b+1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b+1],-1,null,e)||"undefined"!=typeof d[b-1]&&"password"==d[b-1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b-1],-1,null,e))return!0;break}return!1}}
function get_prev_field(a,b){if("undefined"!=typeof b.previousElementSibling)prev_field=b.previousElementSibling;else if((prev_field=b.previousSibling)&&null!=prev_field.nodeType&&prev_field.nodeType==TEXT_NODE)prev_field=prev_field.previousSibling}function get_next_field(a,b){if("undefined"!=typeof b.nextElementSibling)next_field=b.nextElementSibling;else if((next_field=b.nextSibling)&&null!=next_field.nodeType&&next_field.nodeType==TEXT_NODE)next_field=next_field.nextSibling}
function is_modifier_key(a){if("undefined"!=typeof KeyEvent){if(a==KeyEvent.DOM_VK_ALT||a==KeyEvent.DOM_VK_SHIFT||a==KeyEvent.DOM_VK_CONTROL||a==KeyEvent.DOM_VK_WIN||a==KeyEvent.DOM_VK_META)return!0}else if(16==a||17==a||18==a||91==a||92==a||224==a)return!0;return!1}var tldcache=[];
function gettldcached(a){try{if("undefined"!=typeof tldcache[a])return tldcache[a];var b="undefined"!=typeof punycode?lp_gettld_url(punycode.URLToASCII(a)):lp_gettld_url(a);return tldcache[a]=b}catch(c){return lp_gettld_url(a)}}var g_tutorial_flags,TUTORIAL_FLAG_LPOV=1,TUTORIAL_FLAG_CONTEXT=2,g_context_tip_shown=0;
function setup_input_icon(a,b,c,d,e){var f=!1;if(null==b)return verbose_log("setup_input_icon: ERROR passed null field"),f;if(b.form&&"sites"==c&&is_shopping_form(a,b.form)&&g_aspx_hack&&(isASPpage()&&2<a.getElementsByTagName("form").length||!isASPpage()))return f;g_isfirefox&&(LP&&"undefined"!=typeof g_icon_number_in_toolbar&&g_icon_number_in_toolbar)&&LP.lp_handle_buttons_all("refresh");var g=null,g="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?
LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;if(!do_experimental_popupfill)return f;a||(a=g);var h=LP_pickFieldName(a,b);if(null==b||(!g||!a)||LP_explicit_ignored(a,b))return f;if((f=getIconState(a,h))&&f.IHTMLElement==b&&(inputHasLPBackground(b)||LP_floating_icon_exists(a,h)))return!1;f=null;if("generate"==c||!e&&shouldOfferGenerate(a,b))c="generate";var k=gettldcached(a.location.href),f=shouldCreateFloatingIcon(a,b,k),j=LP_get_text_dir(b);
!1===j&&pass;if(LP_fieldIsReadOnly(b)||LP_fieldIsDisabled(b))return!1;g=a!=g;g_create_iframe_in_top&&(!g_isie&&!g_isfirefox&&LP_inIframe(window))&&(g=!0);e={fillhint:c,fillhintnumber:d[c],inframe:g,idorname:h,doctld:k,dofloater:f?1:0,no_check_generate:e?1:0,IHTMLElement:b,text_direction:j};if(f)if(g_isfirefox&&verbose_log("setup_input_icon step3b"),lpIsVisible(b)&&(null==b.form||b.form&&lpIsVisible(b.form)))saveIconState(h,e,b),f=LP_create_floating_icon(a,b,c,d);else return!1;else saveIconState(h,
e,b),f=set_input_icon_image(a,b,c,!1);set_bg_highlight_effect_handlers(a,b,c);LP_didDocumentEscapeEvent(a)||(LP_setDocumentEscapeEvent(a),LP_addEventHandler(a,"keydown",function(a){LP_keypress_handler(a)},!1));LP_didFieldKeyEvent(a,b)?verbose_log("skip KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)):(verbose_log("SETTING KEYDOWN HANDLER ON "+LP_pickFieldName(a,b)),LP_setFieldKeyEvent(a,b),LP_addEventHandler(b,"keydown",function(d){LP_field_keypress_handler(d,b,c,a)},!1),g_isfirefox&&LP_addEventHandler(b,
"keyup",function(c){handle_form_text_change(a,b,b.form,c)},!1));return f}function refresh_input_icon_bg(a,b,c){if(!a&&(a=LP_derive_doc(),!a))return null;b&&set_input_icon_image(a,b,c,!1)}
function refresh_input_all_icon_bg(a){null==a&&(a=document);if(null!=a){try{if(0<a.location.href.indexOf(".xul"))return;verbose_log("refreshing input icons on "+a.location.href)}catch(b){return}var c=getAllIconStates(),d;for(d=0;d<c.length;d++){var e=c[d].idorname,f=c[d].fillhint,g=c[d].dofloater,h=c[d].IHTMLElement;element_is_detached(a,h,0)&&(h=null);h||(h=LP_getElementByIdOrName(a,e));h&&!g&&refresh_input_icon_bg(a,h,f)}}}
function saveIconState(a,b,c){try{a=null;a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;"undefined"==typeof a.lpiconarr&&(a.lpiconarr=[]);var d;for(d=0;d<a.lpiconarr.length;d++){var e=a.lpiconarr[d];if(e.idorname==b.idorname&&e.IHTMLElement==b.IHTMLElement&&e.inframe==b.inframe){if(!checkIsDisplayed(c.ownerDocument,
c,null,null,null,!0))return;a.lpiconarr.splice(d,1)}}a.lpiconarr.push(b)}catch(f){verbose_log("save error "+f.message)}}
function getIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,d={};if("undefined"!=typeof c.lpiconarr){var e;for(e=0;e<c.lpiconarr.length;e++){var f=c.lpiconarr[e];if(f.idorname==b&&(!g_isfirefox||f.inframe==(a!=c)))d=f}}return d}
function hasIconState(a,b){return getIconState(a,b)?!0:!1}
function deleteIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("delete icon state from "+c.location.href+" for "+b);if("undefined"!=typeof c.lpiconarr){var d;for(d=0;d<c.lpiconarr.length;d++){var e=c.lpiconarr[d];e.idorname==b&&(!g_isfirefox||e.inframe==(a!=c))&&c.lpiconarr.splice(d,
1)}}}function getAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("getting all icon states for "+a.location.href);return"undefined"!=typeof a.lpiconarr?a.lpiconarr:[]}
function resetAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("resetting icon states for "+a.location.href);a.lpiconarr=[]}var origstyle={};
function set_input_icon_image(a,b,c,d){var e,f=[];f[0]=g_sites_light_ico;f[1]=g_pw_light_ico;f[3]=g_close_light_ico;f[-1]="";f[2]=g_ff_light_ico;f[16]=g_sites_ico;f[17]=g_pw_ico;f[19]=g_close_ico;f[-17]="";f[18]=g_ff_ico;if(null==b||b.tagName&&"undefined"!=typeof b.tagName.toUpperCase&&"INPUT"!=b.tagName.toUpperCase())return!1;"undefined"==typeof c||null==c?e=0:"formfills"==c?e=2:"sites"==c?e=0:"generate"==c?e=1:"cancel"==c&&(e=3);d&&(e|=16);var g=LP_fieldGetWidth(b),h=!1;if("sites"==c||g_is_specialsite)h=
!0;if(!LP_iconFieldWidthOK(b,g,h))return!0;c=b.style.border;g=b.style.backgroundImage;if(""==g)if(origstyle[b]=k,"undefined"!=typeof g_isie&&g_isie&&b.currentStyle)g=b.currentStyle.backgroundImage,c=b.currentStyle.border;else try{var k=b.ownerDocument.defaultView.getComputedStyle(b,""),g=k.backgroundImage;c=k.border}catch(j){"undefined"!=typeof b.currentStyle&&(g=b.currentStyle.backgroundImage,c=b.currentStyle.border)}"none"==g&&(g="");0<=e&&("undefined"==typeof f[e]&&verbose_log("no icon defined for iconval="+
e),d=LP_getloggedin()?0==e||16==e?getnumbericon(a,b,d):f[e]:f[e],g!="url("+d+")"&&(b.style.backgroundImage="url("+d+")",d=b.ownerDocument.location.href,0<=d.indexOf("live.com")?b.style.paddingRight="18px":0<=d.indexOf("twitter.com")&&(b.style.paddingRight="16px"),g_issafari&&""!==c&&0<c.indexOf("inset")&&c.replace("inset",""),"no-repeat"!=b.style.backgroundRepeat&&(b.style.backgroundRepeat="no-repeat"),"scroll"!=b.style.backgroundAttachment&&(b.style.backgroundAttachment="scroll"),LP_field_set_backgroundPosition(a,
b)));return!0}function set_bg_highlight_effect_handlers(a,b,c){b&&(LP_didFieldMouseEvent(a,b)||(LP_setFieldMouseEvent(a,b),LP_addEventHandler(b,"mouseover",function(d){bg_highlight_effect_mouseover(d,a,b,c)}),LP_addEventHandler(b,"mouseout",function(d){bg_highlight_effect_mouseout(d,a,b,c)}),LP_addEventHandler(b,"mousemove",function(d){bg_highlight_effect_mousemove(d,a,b,c)})),"sites"==c&&LP_getloggedin()&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"))}
function bg_highlight_effect_mousemove(a,b,c){null==a&&(a=window.event);a=LP_getMousePos(a);if(!(0>=a.x&&0>=a.y))if(b=LP_getAbsolutePos(b,c),0>=b.width&&0>=b.height)verbose_log("skipping field "+obj.idorname+" : no valid position");else{var d=b.left+b.width-20;d<b.left&&(d=b.left);c.style.cursor=d<a.x&&b.left+b.width>a.x&&b.top<a.y&&b.top+b.height>a.y?"pointer":"auto"}}
function bg_highlight_effect_mouseover(a,b,c,d){null==a&&(a=window.event);if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)&&LP_getEventTarget(a)==c){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!0)}}
function bg_highlight_effect_mouseout(a,b,c,d){if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)){a=d;d=!1;var e=getIconState(b,LP_pickFieldName(b,c));!a&&(e&&e.hint)&&(a=e.hint);e&&e.dofloater&&(d=e.dofloater);a&&!d&&set_input_icon_image(b,c,a,!1)}}
function lp_docinfoFromEvent(a){var b=null,b="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?"undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument:g_isfirefox?top.document:document,c=null,d=LP_getEventTarget(a).ownerDocument;if(d!=b){c=d;try{verbose&&(c&&c.location)&&verbose_log("click inside iframe "+c.location.href)}catch(e){pass}}a=LP_getEventTarget(a);var f=LP_pickFieldName(d,a);return{topdoc:b,
framedoc:c,eventdoc:d,target:a,targetname:f}}
function icon_click_handler(a){var b=lp_docinfoFromEvent(a),c=b.topdoc,d=b.framedoc,e=b.eventdoc,f=b.target,b=b.targetname,g=!1,h=LP_getMousePos(a);if(0>=h.x&&0>=h.y){if(e&&e.location&&e.location.href&&0<e.location.href.indexOf(".xul"))return!0}else{try{c&&c.body&&c.body.getAttribute("data-fouc-class-names")&&0<=c.body.getAttribute("data-fouc-class-names").indexOf("swift-loading")&&(0<getAllIconStates().length?refresh_input_all_icon_bg(c):window&&window.setTimeout(function(){g_input_cnt=-1;doc_create_clickable_icons(c,
"",SHOULD_DO_ALWAYS,g_is_specialsite)},50))}catch(k){}for(var j=getAllIconStates(),m=0;m<j.length;m++){var n=j[m].IHTMLElement,l=j[m].idorname,e=j[m].fillhint;g_isfirefox&&j[m].inframe?element_is_detached(d,n,0)&&(n=LP_getElementByIdOrName(d,l),refresh_input_icon_bg(d,n,e),j[m].IHTMLElement=n):element_is_detached(c,n,0)&&(n=LP_getElementByIdOrName(c,l),refresh_input_icon_bg(c,n,e),j[m].IHTMLElement=n)}var j=getAllIconStates(),m;for(m=0;m<j.length;m++){l="";n=null;e=j[m];if(g_isfirefox&&e.inframe)if(d)(n=
j[m].IHTMLElement)||(n=LP_getElementByIdOrName(d,e.idorname)),n&&(l=e.idorname);else{if(n=j[m].IHTMLElement)d=n.ownerDocument}else if(""!=b&&b==e.idorname){if(f!=j[m].IHTMLElement){l=!1;for(n=m;n<j.length;n++)if(f==j[n].IHTMLElement){l=!0;break}if(l)continue}n=f}else(n=j[m].IHTMLElement)||(n=LP_getElementByIdOrName(c,e.idorname)),n&&(l=e.idorname);if(d){if(n&&checkIsDisplayed(d,n,0))if(l=LP_getAbsolutePos(d,n),!l||0>=l.width&&0>=l.height)verbose_log("skipping field "+e.idorname+" : no valid position");
else{var p=!1;if(e.text_direction==p)var p=l.left,r=l.left+20;else p=l.left+l.width-20,r=l.left+l.width,p<l.left&&(p=l.left);if(p<h.x&&r>h.x&&l.top<h.y&&l.top+l.height>h.y){f=!1;b=!0;h=g=!1;verbose_log("icon_click_handler calling popuptoggle() [iframe]");"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(d,n));"formfills"==e.fillhint&&(h=!0);c.g_popupfill_parent=n;popuptoggle(c,d,e.idorname,f,b,g,h,e.fillhint,e.fillhintnumber);g=!0;LP_stopEventPropagation(a);break}}}else if(n&&
checkIsDisplayed(c,n,0))if("INPUT"==n.nodeName&&"checkbox"==n.type)verbose_log("skipping field "+e.idorname+" : is checkbox");else if(l=LP_getAbsolutePos(c,n),!l||0>=l.width&&0>=l.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{if(p=!1,e.text_direction==p?(p=l.left,r=l.left+20):(p=l.left+l.width-20,r=l.left+l.width,p<l.left&&(p=l.left)),p<h.x&&r>h.x&&l.top<h.y&&l.top+l.height>h.y){f=!1;b=!0;h=g=!1;"generate"==e.fillhint?f=!0:e.no_check_generate||(f=shouldOfferGenerate(c,
n));"formfills"==e.fillhint&&(h=!0);c.g_popupfill_parent=n;popuptoggle(c,d,e.idorname,f,b,g,h,e.fillhint,e.fillhintnumber,n);g=!0;LP_stopEventPropagation(a);break}}else verbose_log("skipping field "+e.idorname+" : not found/visible")}return g}}
function LP_getMousePos(a){var b;a=a||window.event;b=LP_getEventTarget(a).ownerDocument;if(!b||null==b.location||0<b.location.href.indexOf(".xul"))return{x:0,y:0};var c=b.documentElement,d=typeof("number"==c.scrollLeft)?c.scrollLeft:b.body.scrollLeft,e=typeof("number"==c.scrollTop)?c.scrollTop:b.body.scrollTop,f=c=0;if(g_bodystyle_relative){var g=LP_get_cached_body_rect(b),h=LP_get_cached_body_style(b);g&&(h&&"relative"==h.position)&&(f=g.left,c=g.top)}g_isie&&(g=LP_get_cached_body_rect(b),e="undefined"!=
typeof window&&window?window:b.defaultView,"pageXOffset"in e?(d=e.pageXOffset,b=e.pageYOffset):(d=1,"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof b.querySelector&&"undefined"==typeof b.addEventListener?g=1:(g&&(d=Math.round(100*((g.right-g.left)/b.body.offsetWidth))/100),g=d),d=Math.round(b.documentElement.scrollLeft/g),b=Math.round(b.documentElement.scrollTop/g)),e=b);b=a.pageX||a.clientX+d;a=a.pageY||a.clientY+e;b=parseInt(b);a=parseInt(a);g_bodystyle_relative&&(b-=f,a-=c);return{x:b,
y:a}}
function popuptoggle(a,b,c,d,e,f,g,h,k,j){if(j)k=j;else if(b){if(0<b.location.href.indexOf(".xul"))return!0;k=LP_getElementByIdOrName(b,c)}else{if(0<a.location.href.indexOf(".xul"))return!0;k=LP_getElementByIdOrName(a,c)}"undefined"!=typeof reset_forcefill_without_fillbest&&reset_forcefill_without_fillbest();j="sites";d?j="generate":f?j="save":g&&(j="formfills");if(is_your_popup_showing(a))closepopupfills(a),g_isfirefox?b?(b.g_popupfill_parent_last=b.g_popupfill_parent,b.g_popupfill_parent=null):(a.g_popupfill_parent_last=
a.g_popupfill_parent,a.g_popupfill_parent=null):(g_popupfill_parent_last=g_popupfill_parent,g_popupfill_parent=null);else{g=LP_getloggedin();if(!g){if("undefined"!=typeof LP&&"undefined"!=typeof LP.lpOpenLogin){LP.lpOpenLogin();return}if(!g_isie){sendBG({cmd:"dologinaction"});return}}g_isfirefox?b?b.g_popupfill_parent=k:a.g_popupfill_parent=k:g_popupfill_parent=k;f=f?!0:!1;g_isie?"undefined"!=typeof init_LPfn&&init_LPfn()&&LPfn.ie_set_lpifmsg(a,k,d,f,j,h):g_isfirefox||(h=LP_pickFormName(k.ownerDocument,
k.form),d=d?1:0,sendBG({cmd:"setpopupfilllastactive",active:h,activefieldid:LP_pickFieldName(document,k),ask_generate:d,opentosave:f,activefieldtype:k.type,start_type:j}));!g_isfirefox&&!g_isie&&(g=document.location.href,"undefined"!=typeof punycode&&(g=punycode.URLToASCII(document.location.href)),sendBG({cmd:"popupregister",docnum:g_docnum,url:g}));h=("function"==typeof ff_calculate_iframe_pos?ff_calculate_iframe_pos:calculate_iframe_pos)(a,k,"300px",should_ignore_body_relative(a));d=h.posx;h=h.posy;
if(g_isfirefox)ff_popupfill_create_iframe(a,d,h,c,null,null,k,j);else{f=chk_form_is_nonlogin_form(document,k.form);j=checkDocumentForLoginOrphans(document)||checkDocumentForLoginOrphansFirstStage(document);g=checkDocumentForLoginFirstStageForm(document);g=j||g||chk_form_has_password(document,k.form);j=g_popupfill_rows;f&&!g&&(j=g_popupfill_rows_FF);f=g_popupfill_widest+40;120>f&&(f=120);f<g_popupfill_parent.offsetWidth&&(f=g_popupfill_parent.offsetWidth,f+=2*Math.abs(POPUP_FIELD_OFFSET));if(1==j&&
!create_onerow_iframe){g=null;g_fillaid&&(g=g_fillaid);isEmptyObject(g_autofillsites)||(g=g_autofillsites[0].aid);if(null!=g){sendBG({cmd:"autofillaid",aid:g});verbose_log("filling only, not creating 1 row iframe");return}verbose_log("tried to fill form with invalid acct")}if(0==j&&!do_popup_actions||0==j&&e==NO_FORCE_NOHITS)verbose_log("not creating empty iframe");else if(g=LP_getloggedin(),g_dologin_clickable&&!g&&(!g_isie||g_isie&&e==FORCE_SHOW_NOHITS_NOLOGIN)){verbose_log("login state: checking whether to issue Chrome login prompt");
if(e==FORCE_SHOW_NOHITS_NOLOGIN)return;if(!g_isie){sendBG({cmd:"dologinaction"});return}}if(g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&LP_inIframe(window)&&LP_do_toplevel_iframe_hack(window)){(h=calculate_iframe_pos(a,k,"300px",!0))?(d=parseInt(h.posx),h=parseInt(h.posy)):h=d=0;var m=e="";try{e=window.name,m=document.location.href}catch(n){}g=a.location.href;"undefined"!=typeof punycode&&(g=punycode.URLToASCII(a.location.href));sendBG({cmd:"createpopuptoplevelfromframe",posx:d,posy:h,id:c,rows:j,
width:f,minheight:g_minheight_override,framename:e,framesrc:m,url:g})}else popupfill_create_iframe(a,d,h,c,j,f,g_minheight_override);g_popupfill_iframe_width_save=f}g_isfirefox?b?relocate_popupfill_iframes(b):relocate_popupfill_iframes(a):(!g_create_iframe_in_top||!LP_inIframe(window)||g_isie||g_isfirefox)&&relocate_popupfill_iframes(a);a=b?b:a;b=!1;if(e=getIconState(a,c))b=e.dofloater;b?change_clickable_icon_to_cancel(a,LPMAGIC+c):set_input_icon_image(a,k,"cancel",!0)}}
function isFirstFieldNonLoginSubForm(a,b){if(null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type)return!1;if("text"==b.type){var c=RegExp(lpgs("ff_firstname_regexp"),"i");if(c.exec(b.name)||c.exec(b.id))return!0;c=/register|signup|enroll|create/i;if(b.parentNode&&c.exec(b.parentNode.name)||c.exec(b.parentNode.id)||b.parentNode&&b.parentNode.parentNode&&(c.exec(b.parentNode.parentNode.name)||c.exec(b.parentNode.parentNode.id)))return!0}return!1}
function isUsernameFieldLoginSubForm(a,b){return null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type?!1:FoundNonLoginSubForm(a)?False:looksLikeUsername(b)?!0:!1}function FoundNonLoginSubForm(a){if(null==a)return!1;if(isASPpage()){a=getAllIconStates();var b;for(b=0;b<a.length;b++)if("formfills"==a[b].fillhint)return True}return False}
function isPasswordFieldLoginSubForm(a,b){if(null==a||(null==b||"INPUT"!=b.tagName)||"hidden"==b.type)return!1;if(FoundNonLoginSubForm(a))return False;if("password"==b.type){var c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&d<MAX_INPUTS_HARD&&b!=c[d];d++);if(b==c[d]&&0<d){var e=LP_pickFieldName(a,b);if(e&&e.toLowerCase().indexOf(0<=lpgs("Password"))&&(c=LP_pickFieldName(a,c[d-1]),RegExp(lpgs("ff_username_regexp"),"i").exec(c)))return!0}}return!1}
function isASPpage(){var a=!1;if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?a=b.g_found_aspx:verbose_log("unable to get g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else a=g_found_aspx;a||(a=!1);return a}
function setASPpage(a){null==a&&(a=!0);if(g_isfirefox){var b;(b="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument)?ret=b.g_found_aspx=a:verbose_log("unable to set g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else g_found_aspx=a,ret=!0;ret||(ret=!1);return ret}
function LP_getname_or_idx(a,b,c){if(!a&&(a=document,!a))return"";c=LP_getname(b,c);if(""===c||null===c)if("INPUT"==b.tagName||"input"==b.tagName)c=LP_inputidx_to_name(a,LP_getinputidx(a,b));return c}function LP_getinputidx(a,b){if(!a&&(a=document,!a))return"";for(var c=a.getElementsByTagName("INPUT"),d=0,d=0;d<c.length;d++)if(c[d]==b)return d;return""}var LPMAGICINPUTIDX="input_idx_";function LP_inputidx_to_name(a,b){if(null!==b&&is_valid_input_indexes(a))return LPMAGICINPUTIDX+b}
function LP_name_is_inputidx(a,b){return b&&0==b.indexOf(LPMAGICINPUTIDX)&&b.length>LPMAGICINPUTIDX.length?!0:!1}function LP_getinputidx_from_name(a,b){return is_valid_input_indexes(a)&&0==b.indexOf(LPMAGICINPUTIDX)?b.substr(LPMAGICINPUTIDX.length):null}function LP_getElementByIdx(a,b){var c=null;is_valid_input_indexes(a)&&(c=a.getElementsByTagName("INPUT")[b]);return c}function invalidate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!0}
function validate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!1}function is_valid_input_indexes(){return!0}
function inputHasLPBackground(a){if(null==a)return!1;var b=null;if(g_isie&&"undefined"!=typeof a.currentStyle)"undefined"!=typeof a.currentStyle&&(b=a.currentStyle);else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}if(b&&("INPUT"==a.tagName||"input"==a.tagName)&&""!=b.backgroundImage){if(-1!=b.backgroundImage.indexOf(g_sites_light_ico)||-1!=b.backgroundImage.indexOf(g_pw_light_ico)||-1!=b.backgroundImage.indexOf(g_close_light_ico)||
-1!=b.backgroundImage.indexOf(g_ff_light_ico)||-1!=b.backgroundImage.indexOf(g_sites_ico)||-1!=b.backgroundImage.indexOf(g_pw_ico)||-1!=b.backgroundImage.indexOf(g_close_ico)||-1!=b.backgroundImage.indexOf(g_ff_ico)||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!1)))return!0;var d;for(d=0;9>=d;d++)if(-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,a,!0,d))||-1!=b.backgroundImage.indexOf(getnumbericon(a.ownerDocument,
a,!1,d)))return verbose_log("icon "+LP_getname(a)+" has icon with number "+d),!0}return!1}function removeLPBackground(a){if(!a)return!1;try{a.style.backgroundImage="none",a.style.backgroundRepeat="repeat",a.style.backgroundAttachment="scroll",a.style.backgroundPosition="0% 0%"}catch(b){return verbose_log("removeLPBackground error: "+b.message),!1}return!0}var KEY_ESCAPE=27;
function LP_keypress_handler(a){a||(a=window.event);var b="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null;if(!b)return!1;a=a.keyCode;verbose_log("received key "+a);a==KEY_ESCAPE&&is_your_popup_showing(b)&&closepopupfills(b);return!1}var KEY_TAB=9,KEY_UP=38,KEY_DOWN=40,KEY_ENTER=13,KEY_SHIFT=16,KEY_RIGHT=39,KEY_LEFT=37,KEY_PAGEDOWN=34,KEY_PAGEUP=33,KEY_END=35,KEY_HOME=36;
function LP_field_keypress_handler(a,b,c,d){a||(a=window.event);if(LP_getloggedin()){d||(d="undefined"!=typeof document?document:a&&a.target?a.target.ownerDocument:null);if(!d||null==d.location)if(d=b.ownerDocument,g_isfirefox&&void 0!=typeof LP&&(!d||null==d.location))d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;if(d){if(null==d.location)return verbose_log("LP_field_keypress_handler given a firefox zombie document?"),
a="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument,closepopupfills(a),!1;c=a.keyCode;if(c==KEY_ESCAPE)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_TAB)is_your_popup_showing(d)&&closepopupfills(d);else if(c==KEY_DOWN){if(!is_your_popup_showing(d)){set_active_username_password(d,b.form);"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof init_LPfn&&(init_LPfn()&&LPfn)&&LPfn.ie_set_kbdnav(!0);
var e=LP_pickFieldName(d,b);if(e=getIconState(d,e)){var f=!1,g=!1;"generate"==e.fillhint&&(f=!0);"formfills"==e.fillhint&&(g=!0);popuptoggle(d,null,e.idorname,f,FORCE_SHOW_NOHITS,!1,g,e.fillhint,e.fillhintnumber)}else LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}}else if(c!=KEY_UP&&!(c==KEY_SHIFT||0==c)&&!(c==KEY_RIGHT&&a.altKey)&&!is_modifier_key(c)&&c!=KEY_ENTER){if(g_ischrome&&g_setup_hotkey_handler){if(is_hotkey_event(a))return}else if(g_isie){if(e=
""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),"undefined"!=typeof a.metaKey&&a.metaKey||"undefined"!=typeof a.altKey&&a.altKey||"undefined"!=typeof a.ctrlKey&&a.ctrlKey)return}else if(g_isfirefox&&(e=""+(a.ctrlKey?"control ":""),e+=a.metaKey?"meta ":"",e+=a.altKey?"alt ":"",e+=a.shiftKey?"shift ":"",verbose_log("keycode == "+c+" "+e),is_hotkey_event(d,a)))return;if("password"==b.type&&formHasUsernameField(b))if(g_clickable_input_on_password)!is_your_popup_showing(d)&&
!chk_form_ask_generate(d,b.form)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN);else return;if(!chk_form_has_password(d,b.form))return;is_your_popup_showing(d)||(g_clickable_input_on_password?(e=getIconState(d,LP_pickFieldName(d,b)))&&(e.fillhint&&"sites"==e.fillhint)&&conditional_create_popup(d,b,FORCE_SHOW_NOHITS_NOLOGIN):(LP_pickFieldName(d,b),popuptoggle(d,null,LP_pickFieldName(d,b),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)),g_keyboardNav=!0)}if(is_your_popup_showing(d)){c==KEY_UP&&(g_isfirefox?
ff_do_popupfocusdecrement(1):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),LP_stopEventPropagation(a));c==KEY_DOWN&&(g_extended_kbd_nav&&a.altKey&&g_hide_navbar?is_your_popup_showing(d)&&!g_isfirefox&&(g_isie||sendBG({cmd:"popupfillinputshownavbar"})):(g_isfirefox?ff_do_popupfocusincrement(1):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:1}),g_keyboardNav=!0),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),
LP_stopEventPropagation(a));if(c==KEY_ENTER&&(verbose_log("Enter Received, checking field"),(g_isfirefox?d.g_popupfill_parent:g_popupfill_parent)==b&&g_keyboardNav))g_isfirefox?(verbose_log("Enter Received, Choose Action"),ff_do_popupfocuschoose(!0)):g_isie||sendBG({cmd:"popupfillinputfocuschoose"}),g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a);c==KEY_PAGEUP&&(g_isfirefox?ff_do_popupfocusdecrement(12):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",
count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_PAGEDOWN&&(g_isfirefox?ff_do_popupfocusincrement(12):g_isie||sendBG({cmd:"popupfillinputfocusincrement",count:12}),g_keyboardNav=!0,g_ischrome&&g_setup_hotkey_handler&&handle_hotkey(a),g_isfirefox&&is_hotkey_event(d,a),LP_stopEventPropagation(a));c==KEY_END&&(g_isfirefox?ff_do_popupfocusincrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusincrement",
count:1073741824}),g_keyboardNav=!0);c==KEY_HOME&&(g_isfirefox?ff_do_popupfocusdecrement(1073741824):g_isie||sendBG({cmd:"popupfillinputfocusdecrement",count:1073741824}),g_keyboardNav=!0)}return!1}}}
function shouldCreateFloatingIcon(a,b,c){if(!a&&(a=LP_derive_doc(),!a)||!a||!b)return!1;if("stripe.com"==c)return!0;if("dominos.com"==c)return!1;if("metlife.com"==c&&-1!=a.location.href.indexOf("mybenefits.metlife.com"))return!0;if((a=LP_get_live_style(b))&&a.backgroundImage&&"none"!=a.backgroundImage&&!inputHasLPBackground(b))b=0<=a.backgroundImage.indexOf("blank")?!1:!0;else{if(a=g_trial_bg_expt)b?(b.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=)",
a=LP_get_live_style(b),b=!a||("none"==a.backgroundImage||!a.backgroundImage)||g_stylesheet_grubbing&&LP_input_has_bg_style_override(b.ownerDocument)?!1:!0):b=!1,a=!b;b=a?!0:!1}return b}
function LP_create_floating_icon(a,b,c,d){if(!a&&(a=LP_derive_doc(),!a)||!b)return!1;var e=a.getElementsByTagName("body")[0],f,g;f=LP_pickFieldName(a,b);getIconState(a,f);var h=LPMAGIC+f;if(null==LP_getElementByIdOrName(a,LPMAGIC+f))g=a.createElement("div"),g.id=h,"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[g.id]=g.id):g_popup_divs[g.id]=g.id,f=a.createElement("img"),b.offsetHeight<LPICON_WIDTH&&(f.height=b.offsetHeight,f.width=f.height),
f.id=g.id+"_icon",h=!0,null!=c&&("formfills"==c?(f.src=ff_svg,f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",h=!1):"generate"==c&&(f.src=pw_svg,f.style.opacity="0.6",f.style.filter="alpha(opacity=60)",h=!1)),h&&(f.src=sites_svg,f.style.opacity="0.6",f.style.filter="alpha(opacity=60)"),g.appendChild(f),"sites"==c&&LP_getloggedin()&&(!g_isfirefox&&!g_isie)&&b.setAttribute("autocomplete","off"),g_do_icon_number_hint&&LP_create_floating_icon_hint(a,g.id,c,d)&&LP_set_floating_icon_hint(a,g.id,
c,d),e.appendChild(g),g.style.maxHeight=LPICON_WIDTH+"px",g.style.verticalAlign="top",f.style.verticalAlign="top","undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] setting up click listener on icon for "+LP_pickFieldName(a,b)),g_icon_hover&&(LP_addEventHandler(g,"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(g,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),g_icon_parent_hover&&(LP_addEventHandler(b,
"mouseover",function(c){do_icon_mouseover(a,g.id,b);LP_stopEventPropagation(c);return!1}),LP_addEventHandler(b,"mouseout",function(c){do_icon_mouseout(a,g.id,b);LP_stopEventPropagation(c);return!1})),LP_addEventHandler(e,"DOMsubtreemodified",function(){popupfill_resize(a);return!1},!1),LP_addEventHandler(e,"resize",function(){popupfill_resize(a);return!1},!1),e.onresize=onresize_handler,setprops_floating_icon(a,b,g,c,d);else return!1;return!0}
function move_floating_icon(a,b,c,d){a||(a=LP_derive_doc());if(!a||!b)return!1;a.getElementsByTagName("body");var e;e=LP_pickFieldName(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(!c){var f=getIconState(a,e);f&&(c=f.fillhint)}if(e=LP_getElementByIdOrName(a,LPMAGIC+e))g_do_icon_number_hint&&(LP_getloggedin()?LP_set_floating_icon_hint(a,e.id,c,d):LP_delete_floating_icon_hint(a,e.id)),setprops_floating_icon(a,b,e,c,d);return!0}
function setprops_floating_icon(a,b,c,d,e){function f(a,b){if(a&&b){var c=!1,d=a.getElementsByTagName("body")[0],e=b.parentNode;e&&(e!=d&&d)&&(e.removeChild(b),d.appendChild(b),c=!0);return c}}if(a&&b&&c){var g=LP_pickFieldName(a,b);if(g=getIconState(a,g)){f(a,c);"absolute"!=c.style.position&&(c.style.position="absolute");var h=LP_getAbsolutePos(a,b);if(null!=h){if(b.offsetHeight>LPICON_WIDTH){var k=h.top+(b.offsetHeight-LPICON_WIDTH)/2+"px";c.style.top!=k&&(c.style.top=k)}else c.style.top!=h.top+
"px"&&(c.style.top=h.top+"px");g=!1==g.text_direction?h.left+2+"px":h.left+b.offsetWidth-LPICON_WIDTH-2+"px";c.style.left!=g&&(c.style.left=g);if(g_do_icon_number_hint){var j;null==j&&(j=a.getElementById(c.id+"_icon"));var g=parseInt(c.style.left),h=parseInt(c.style.top),m=a.getElementById(c.id+"_numspan");if(null!=m)if(f(a,m),null!=d&&null!=e&&null!=e[d]&&1<e[d]){var n=e[d];0<e[d]&&9>e[d]&&(n=" "+e[d]);n=LP_measureText(a,lp_of(n,a),null,"font-size: 9px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;line-height:11px;");
if(null!=n){var l=h+("undefined"==typeof j.height||0==j.height?LPICON_HEIGHT:j.height)-n.height+6+"px",p=g+("undefined"==typeof j.width||0==j.width?LPICON_WIDTH:j.width)-n.width+2+"px",n="#ff2200";g_use_grey_icons&&(n="#808080");n="position:absolute !important; visibility:visible !important; border:0px !important; font-size:9px !important; font-family: Helvetica Neue,Helvetica,Arial,sans-serif; top:"+l+" !important; left:"+p+" !important; background-color: "+n+"; padding: 1px 2px !important; font-weight: bold !important; color:#ffffff !important; cursor: default; line-height:11px !important; max-width: 10px !important; ";
j="undefined"!=typeof window&&window?window:a.defaultView;j=LP_getComputedStyle(j,m);d=j.zIndex;""!==d&&"auto"!=d&&(n=n+"z-index:"+d+" !important;");if("absolute"!=j.position||"visible"!=j.visibility||"9px"!=j.fontSize||"1px 2px"!=j.padding||"11px"!=j.lineHeight||j.top!=l||j.left!=p)m.style.cssText=n}else n="display:none;",m.style.cssText=n}else n="display:none;",m.style.cssText=n}}else verbose_log("ERROR: unable to relocate clickable icon");d=getZIndex(a,b,0,0);null!=d?d++:d=CLICKABLE_ICON_ZINDEX;
c.style.zIndex!=d&&(c.style.zIndex=d);if(g_do_icon_number_hint&&null!=m&&(n=n+"z-index:"+(d+1)+" !important;",j="undefined"!=typeof window&&window?window:a.defaultView,j=LP_getComputedStyle(j,m),"absolute"!=j.position||"visible"!=j.visibility||"9px"!=j.fontSize||"1px 2px"!=j.padding||"11px"!=j.lineHeight||j.top!=l||j.left!=p||j.zIndex!=d+1))m.style.cssText=n;c.style.display=checkIsDisplayed(a,b,0)?"":"none";j=c.childNodes[0];parseInt(b.offsetHeight)<LPICON_WIDTH?(b.offsetHeight!=j.height&&(j.height=
parseInt(b.offsetHeight)),b.offsetHeight!=j.height&&(j.width=j.height)):(j.height!=LPICON_WIDTH&&(j.height=LPICON_WIDTH),j.width!=LPICON_WIDTH&&(j.width=LPICON_WIDTH))}}}function refresh_floating_icon_number_hints(a){null==a&&(a=document);if(null!=a)if(LP_get_icon_divs(a),LP_getloggedin())for(i in iconidhash);else for(i in iconidhash){var b=a.getElementById(iconidhash[i]+"_numspan");b&&(b.parentNode.removeChild(b),verbose_log("deleting icon number for "+iconidhash[i]))}}
function LP_getloggedin(){return g_isie?init_LPfn()&&LPfn?LPfn.get_loginstate():!1:"undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin}function LP_setloggedin(a){"string"==typeof a&&"0"===a&&(a=!1);if(g_isie)return init_LPfn()&&LPfn?LPfn.set_loginstate(a):!1;if("undefined"!=typeof g_isloggedin)g_isloggedin=a?!0:!1;else if("undefined"!=typeof lploggedin)lploggedin=a?!0:!1;else return!1;return!0}
function LP_reset_icon_divs(a){"undefined"!=typeof g_isfirefox&&g_isfirefox?a.g_popup_divs={}:g_popup_divs={};return!0}function LP_store_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[b]=b):g_popup_divs[b]=b;return!0}function LP_delete_icon_div(a,b){"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&delete a.g_popup_divs[b]:delete g_popup_divs[b];return!0}
function LP_get_icon_divs(a){return"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.g_popup_divs?{}:a.g_popup_divs:null==g_popup_divs?{}:g_popup_divs}
function LP_set_floating_icon_hint(a,b,c,d){if(a&&LP_getloggedin()){var e=a.getElementById(b+"_numspan");null!=e?(a="",b=LP_elt_get_text(e),null!=c&&null!=d&&null!=d[c]&&0<d[c]?("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills?""!=b&&LP_elt_set_text(e,""):(a=9>d[c]?" "+d[c]:9<d[c]?"9+":" "+d[c],b!=a&&LP_elt_set_text(e,a)):LP_elt_set_text(e,"")):LP_create_floating_icon_hint(a,b,c,d);return!0}}
function LP_create_floating_icon_hint(a,b,c){if(!a)return!1;var d=a.getElementsByTagName("body")[0];if(a.getElementById("newid")||("formfills"==c||"generate"==c)&&!1===g_show_icon_number_for_formfills)return!1;a=a.createElement("div");a.id=b+"_numspan";a.style.position="absolute";a.style.top="-1000px";a.style.left="-1000px";d.appendChild(a);g_defensive&&LP_addEventHandler(a,"mousedown",function(a){LP_stopEventPropagation(a);return!1});return!0}
function LP_delete_floating_icon_hint(a,b){if(!a)return!1;var c=a.getElementById(b+"_numspan");return null!=c?(c.parentNode.removeChild(c),!0):!1}function LP_delete_floating_icon(a,b){if(!a)return!1;var c=a.getElementById(b);return null!=c?(c.parentNode.removeChild(c),!0):!1}
function reset_floating_icon(a,b,c){verbose_log("entered reset_floating_icon");a||(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document);if(!a)return!1;b=LP_pickFieldName(a,b);var d=getIconState(a,b);!c&&d&&(c=d.fillhint);d=LP_getElementByIdOrName(a,LPMAGIC+b);a=LP_getElementByIdOrName(a,LPMAGIC+b+"_icon");return d&&a?(a.src="formfills"==c?ff_svg:"generate"==c?pw_svg:sites_svg,a.style.opacity="0.6",a.style.filter="alpha(opacity=60)",!0):!1}
function should_do_lastpass_here(a){var b=null;if(!a)return!1;if(null!=a.g_content_check_result)return a.g_content_check_result;try{var c=a.location.href;if(0<c.indexOf(".xul")||0<c.indexOf("libsyn.com/embed")||0<c.indexOf("platform.twitter.com/tweet_button")||0<=c.indexOf("facebook.com/plugins/"))b=a.g_content_check_result=!1;null===b&&("complete"!=a.readyState&&"interactive"!=a.readyState)&&(verbose_log("answer hazy, try again later"),b=!0);if(null===b){var d=a.body,e=LP_elt_get_text(d).length;
null===b&&(2<e&&is_page_JSON(a))&&(b=a.g_content_check_result=!1)}if(null===b&&d){var f=d.getAttribute("contentEditable"),g=d.getAttribute("preview"),h=null!==d.getAttribute("data-silex-id")||null!==d.getAttribute("data-silex-type");if("edit"==g||f||h)b=!1}}catch(k){return a.g_content_check_result=!1}null===b&&(b=a.g_content_check_result=!0);return b}
function LP_is_inframe(a){if(!a)return!1;try{var b="undefined"!=typeof window&&window?window:a.defaultView;return get_win_self(b)!==b.top}catch(c){return!1}}
function valid_by_role(a,b){if(!b)return!1;a||(a=b.ownerDocument);if(!a)return!1;var c=b.getAttribute("role");!c&&"INPUT"!=b.tagName&&(c=b.parentNode.getAttribute("role"));if(!c)return!0;switch(c){case "navigation":case "banner":case "contentinfo":case "note":case "search":case "seealso":return!1;case "columnheader":case "presentation":case "toolbar":case "directory":return!1;default:return!0}}
function treat_text_as_password(a){return!a||"TEXTAREA"==a.tagName?!1:"text"==a.type&&(0==a.name.indexOf("pass")||0<=a.name.toLowerCase().indexOf(lpgs("Password").toLowerCase()))&&-1==a.name.toLowerCase().indexOf("hint")&&-1==a.name.toLowerCase().indexOf("placeholder")?RegExp(lpgs("ff_username_regexp"),"i").exec(a.name)&&a.form&&a.form.action&&0<=a.form.action.indexOf("login")?!1:!0:!1}function ASP_treat_text_as_password(a){return treat_text_as_password(a)}
function LP_pickFieldName(a,b){return!a||!b?null:LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)}function fieldcacheget(a,b,c){if(null==a||null==b||null==c||0===c.length)return null;if("undefined"==typeof a.g_field_attr_cache)return LPCTR("fieldcache_miss"),null;if(null!=a.g_field_attr_cache[b]&&null!=a.g_field_attr_cache[b][c])return LPCTR("fieldcache_hit"),a.g_field_attr_cache[b][c];LPCTR("fieldcache_miss");return null}
function fieldcacheset(a,b,c,d){if(null==a||null==b||null==c||0===c.length)return null;"undefined"==typeof a.g_field_attr_cache&&(a.g_field_attr_cache=[]);null==a.g_field_attr_cache[b]&&(a.g_field_attr_cache[b]={});a.g_field_attr_cache[b][c]=d;return!0}function fieldcachereset(a){null!=a&&(a.g_field_attr_cache=[]);return!0}
function LP_looksLikeOTPField(a,b){if(!a||!b||"INPUT"!=b.tagName)return!1;if(LP_pickFieldName(a,b).toLowerCase().match(/^otp[_\W]|[_\W]otp$|^otp$|[_\W]otp[_\W]/))return!0;var c=b.getAttribute("aria-label");return c&&0<c.indexOf("O-Key")?!0:!1}
function doc_create_clickable_icons(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=g_isfirefox&&LP?LP.getBrowser().contentDocument:document,!a))return;if(g_isfirefox){b=LP.lpGetCurrentWindow().document;var e="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;verbose_log("doc_create_clickable_icons: xuldoc is "+b.location.href);verbose_log("doc_create_clickable_icons: passed doc is "+a.location.href);verbose_log("doc_create_clickable_icons: toplevel doc is "+
e.location.href)}(b=9==a.nodeType?a.body:null)||(b=a.getElementsByTagName("body")[0]);if(b){b=!1;if(g_isfirefox){if(never_icons(lpcanonizeUrl(a.location.href),lp_gettld_url(a.location.href))||never_icons(lpcanonizeUrl(e.location.href),lp_gettld_url(e.location.href)))return;b=!0}else{var e=check_nevers(a,g_nevers,a.location.href),f=!0,g=!0,h=!0,k=!0;null!=e&&(f=e.show_for_formfill,g=e.show_for_save,h=e.show_for_autofill,k=e.show_for_clickable_icon);if((0<g_popupfill_rows&&h||0==g_popupfill_rows&&g||
f)&&k)b=!0}if(b){var e=a.getElementsByTagName("input"),j;b={};var m=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),n=checkDocumentForCPWOrphans(a),l=checkDocumentForLoginFirstStageForm(a);if(g_aspx_hack&&!isASPpage())for(j=0;j<e.length&&5>j&&!isASPpage();j++)check_for_ASP(a,e[j]);var p=null;if("undefined"!=typeof Math){var r=Math.floor(1E4*Math.random()),t=e.length;if(g_aspx_hack&&isASPpage())create_icons_on_ASP(a,d);else if(m||n||l)create_icons_generic(a,d);else{var q=
MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(q=MAX_INPUTS_HARD);for(j=0;j<t&&j<q;j++)if(d||popupfill_shoulddofield(a,e[j],c))try{var s=e[j],u=LP_pickFormName(a,s.form),v=m||l||chk_form_has_password(a,s.form),z=n||chk_form_is_nonlogin_form(a,s.form);if(d)if(looksLikeUsername(e[j]))v=!0,z=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,s));else if(isInputFieldPassword(a,s))v=!0,z=!1,verbose_log("SPECIAL SITE: create icon on field "+LP_pickFieldName(a,s));else{verbose_log("SPECIAL SITE: ignoring field "+
LP_pickFieldName(a,s));continue}var y=chk_form_ask_generate(a,s.form),A=!1;null!=p&&(null!=u&&u!=p)&&(A=!0,y=chk_form_ask_generate(a,s.form,A));var B=LP_fieldGetWidth(s);if(!(null!=b[u]&&1<=b[u]&&!isInputFieldPassword(a,s)&&(!v||y)&&!g_show_icon_only_on_focus&&(!isASPpage()||!isFirstFieldNonLoginSubForm(a,s))))if(g_isfirefox&&(v||z||y)||(v&&(0<g_popupfill_rows&&h||0==g_popupfill_rows&&g)||(z&&!v||y)&&f)&&k)if((v||y)&&!LP_iconFieldWidthOK(s,B,!0))verbose_log("skipping loginform icon create on "+LP_pickFieldName(a,
s)+"because field is too thin");else if(!v&&!y&&z&&!LP_iconFieldWidthOK(s,B,!1))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,s)+"because field is too thin");else if(!v&&!y&&!z&&!LP_iconFieldWidthOK(s,B,!1))verbose_log("skipping default-icon create on "+LP_pickFieldName(a,s)+"because field is too thin");else{var w;if(z&&is_search_field(a,s,!0))verbose_log("skipping nonloginform icon create on "+LP_pickFieldName(a,s)+"because it looks like a search field");else if(z&&LP_fieldIsReadOnly(s))verbose_log("skipping nonloginform icon create on "+
LP_pickFieldName(a,s)+"because it is read-only");else if(v&&!y?(p=u,g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:u,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:u,rowtype:"sites"}),g_do_icon_number_hint&&(w="sites")):v&&y?g_aspx_hack&&isASPpage()?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:u,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:u,rowtype:"sites"}),g_do_icon_number_hint&&(w="sites")):(verbose_log("CONFLICT: form "+
u+" is a signup form and login form; treat as a signup form and present formfill options"),g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:u,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:u,rowtype:"formfills"}),g_do_icon_number_hint&&(w=isInputFieldPassword(a,s)?s.form&&lpCheckCurrentPWField(s.form)?"sites":"generate":"formfills")):!v&&y&&chk_form_changepw(a,s.form)?(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:u,rowtype:"sites"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",
formid:u,rowtype:"sites"}),g_do_icon_number_hint&&(w="sites")):n?g_do_icon_number_hint&&(w="sites"):(g_isie?init_LPfn()&&LPfn&&LPfn.ie_setpopupfillhint({formid:u,rowtype:"formfills"}):g_isfirefox||sendBG({cmd:"setpopupfillhint",formid:u,rowtype:"formfills"}),g_do_icon_number_hint&&(w="formfills")),checkIsDisplayed(a,s,0,null,r)){verbose_log("icon create on displayed field "+LP_pickFieldName(a,s)+" for form "+u);if(g_do_icon_number_hint){A=[];if(g_isfirefox){w||(w="sites");var C=LP.getMatchingSites(a.location.href,
SKIP_GENPWS);A[w]=C&&C.length?C.length:0}else A=g_icon_numbers;if(isASPpage()&&isFirstFieldNonLoginSubForm(a,s))setup_input_icon(a,s,"formfills",A);else{if("formfills"==w&&!isFirstFieldNonLoginSubForm(a,s)&&!lpIsVisible(s,!0)&&s.form&&lpIsVisible(s.form))continue;else isInputFieldPassword(a,s)&&(lpIsVisible(s,!0)&&"formfills"==w)&&(w="generate");setup_input_icon(a,s,w,A)}}else setup_input_icon(a,s);g_isfirefox||g_save_suggest_msg&&(w&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&
1>g_icon_numbers.sites)&&LP_addEventHandler(s,"click",function(b){var c=LP_getEventTarget(b);setTimeout(function(){do_save_suggest_msg(c,a)},0);LP_stopEventPropagation(b);return!1},!1);if(g_clickable_input&&(!("password"==s.type&&formHasUsernameField(s))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(a,s)&&"sites"==w)LP_setFieldClickEvent(a,s),LP_addEventHandler(s,"click",function(b){var c=LP_getEventTarget(b),d=LPMAGIC+LP_pickFieldName(a,c);if(null!=a.getElementById(d))g_clickable_input_on_password?
is_your_popup_showing(a)||conditional_create_popup(a,c,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,s.form),popuptoggle(a,null,LP_pickFieldName(a,c),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS));else if(g_input_click_intercept)try{verbose_log("CLICK ON INPUT, process it"),icon_click_handler(b)}catch(e){}return!1},!1);verbose_log("FORM "+u+" touched");null==b[u]?b[u]=1:b[u]++}else verbose_log("skip icon create on hidden field "+LP_pickFieldName(a,s)+" for form "+u)}}catch(D){verbose&&alert("error: "+
D.message+" stack: "+D.stack)}}g_isfirefox||(!1==g_weaseled&&setTimeout(function(){weasel(100)},500),g_weaseled=!0)}}}}}
function ForceFillFieldClicked(a,b,c,d){if(!b||!d)return!1;c=b.form&&!c?LP_getname(b.form):"";var e=b.type?b.type:"";return"password"==e?LP_getname(b)?LP_setval(a,LP_getname(b),d.p,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo,null,!0,d.humanize,d.reqinfo,d.realurl):LP_fill_given_field(a,b,d.p,e,d.sharedsite,d.automaticallyFill,d.a,!0,!0,d.humanize,d.reqinfo,d.realurl):""==d.u?!0:LP_getname(b)?LP_setval(a,LP_getname(b),d.u,0,d.a,c,e,d.sharedsite,null,d.automaticallyFill,d.reqinfo,null,
!0,d.humanize,d.reqinfo,d.realurl):LP_fill_given_field(a,b,d.u,e,d.sharedsite,d.automaticallyFill,d.a,!0,!0,d.humanize,d.reqinfo,d.realurl)}function ForceFillFormClicked(a,b,c,d){if(!b)return!1;c=null;if(b=b.getElementsByTagName("INPUT")){if(c=GuessUserPassFields(b,!0,!0,!0))c.text&&ForceFillFieldClicked(a,c.text,!1,d),c.password&&ForceFillFieldClicked(a,c.password,!1,d);return!0}return!1}
function GuessUserPassFields(a,b,c,d){if(!a||0>=a.length)return null;var e,f=a.length,g=null,h=null,k=!1;for(e=0;e<f;e++){var j=a[e];if(j)if(c&&(LP_fieldIsReadOnly(j)||LP_fieldIsDisabled(j)))verbose_log("Skipping disabled field");else if(d&&!lpIsVisible(j,!0))verbose_log("Skipping non-displayed field");else{if(b){var m=RegExp(lpgs("ff_search_regexp"),"i");if(m.exec(j.name)||m.exec(j.id)){var m=j.name&&j.name.match(/[qQ]/)||j.id&&j.id.match(/[qQ]/),n=RegExp(lpgs("ff_username_regexp"),"i"),l=RegExp(lpgs("ff_email_regexp"),
"i");if(m&&j.name&&!j.name.match(/^[qQ]/)&&(!j.id||j.id&&!j.id.match(/^[qQ]/)))pass;else if(m&&j.id&&!j.id.match(/^[qQ]/)&&(!j.name||j.name&&!j.name.match(/^[qQ]/)))pass;else if(m&&(n.exec(j.name)||n.exec(j.id)||l.exec(j.name)||l.exec(j.id)))pass;else{verbose_log("Skipping field that smells like a search field");continue}}}if(("text"==j.type||"tel"==j.type||"email"==j.type)&&!h)b?(m=RegExp(lpgs("ff_username_regexp"),"i"),m.exec(j.name)||m.exec(j.id)?(g=j,k=!0):k||(g=j)):g=j;"password"==j.type&&!h&&
(b?(m=RegExp(lpgs("ff_username_regexp"),"i"),!k&&(m.exec(j.name)||m.exec(j.id))?g=j:h=j):h=j)}}a={};g&&(a.text=g);h&&(a.password=h);return isEmptyObject(a)?null:a}function LP_getActiveElement(a){return!a?null:a.activeElement}function LP_docHasFocus(a){return!a?null:!0}
function ForceFillClicked(a,b,c){var d=g_popupfill_parent;d||(d=g_popupfill_parent_last);if(!d){if(g_force_fill_active_element){var e=LP_getActiveElement(a);e&&("INPUT"==e.tagName&&LP_docHasFocus(a)&&hasIconState(a,LP_pickFieldName(a,e)))&&(d=e,verbose_log("hotkey or contextmenu triggered autofill detect & force"))}if(!d)return!1}if(!a&&(a=d.ownerDocument,!a))return!1;var e=chk_form_has_password(a,d.form),f=chk_form_ask_generate(a,d.form);return d.form&&e&&!f?!ForceFillFormClicked(a,d.form,b,c)||
""===d.value?ForceFillFieldClicked(a,d,b,c):!0:null==d.form?ForceFillOrphanFieldClicked(a,d,c):ForceFillFieldClicked(a,d,b,c)}function isMultiStageLoginForm(){}var MAX_INPUTS_HARD=200,MAX_INPUTS_SOFT=100;
function LP_exceedInputsThreshold(a){if(!a)return!0;var b=MAX_INPUTS_HARD,c=MAX_INPUTS_SOFT;a=a.getElementsByTagName("input");var d=a.length;if(d>b)return verbose_log("EIT: hard threshold exceed"),!0;if(d<c)return!1;var b=0,e;for(e=0;e<d;e++)if(a[e]){var f=a[e].type;("text"==f||"passwd"==f)&&b++}return b>c?(verbose_log("EIT: soft threshold exceed"),!0):!1}var MAX_FORMS_HARD=20,MAX_FORMS_SOFT=10;
function LP_exceedFormsThreshold(a){if(!a)return!0;var b=MAX_FORMS_HARD,c=MAX_FORMS_SOFT;a=a.getElementsByTagName("form");var d=a.length;Checkpoint.assert(d<b,"page has too many forms");if(d>b)return!0;if(d<c)return!1;var b=0,e=RegExp(lpgs("ff_loginform_regexp"),"i"),f;for(f=0;f<d;f++)if(a[f]&&(a[f]&&!a[f].disabled&&b++,b>c)){var g=a[f].id;if(e.exec(a[f].name)||e.exec(g))return!1}return b>c?!0:!1}var MAX_FORM_ELEMENTS_HARD=500,MAX_FORM_ELEMENTS_SOFT=100;
function LP_exceedFormElementsThreshold(a,b){if(!a||!b)return!0;var c=MAX_FORM_ELEMENTS_SOFT,d=b.elements,e=d.length;if(e>MAX_FORM_ELEMENTS_HARD)return verbose_log("EFET: hard threshold exceed"),!0;if(e<c)return!1;var f=0,g;for(g=0;g<e;g++)if(d[g]&&d[g]&&(!d[g].disabled&&"FIELDSET"!=d[g].tagName)&&"input"==d[g].tagName){var h=inputs[g].type;("text"==h||"passwd"==h)&&f++}return f>c?(verbose_log("EFET: soft threshold exceed"),!0):!1}
function LP_passwordAlt(a,b){return!a||!b||"INPUT"!=b.tagName?!1:"nyckel"==LP_pickFieldName(a,b).toLowerCase()&&"password"==b.type?!0:!1}function LP_explicit_ignored(a,b){if(!a||!b||"undefined"==typeof b.getAttribute)return!0;var c=b.getAttribute("data-lpignore");if("true"===c)return!0;c=b.dataset?b.dataset.lpignore:!1;if("true"===c)return!0;c=b.getAttribute("lpignore");return"true"===c||"true"===b.lpignore?!0:!1}
function countFormEquivalents(a){var b=0,c=a.getElementsByTagName("FORM"),d=c.length;LP_exceedFormsThreshold(a)&&(d=MAX_FORMS_HARD);for(a=0;a<c.length&&a<d;a++)(lpIsVisible(c[a]),!0)&&b++;return b}
function LP_implicit_ignored(a,b){if(!b||!a&&(a=LP_derive_doc(),!a))return!1;var c=b.id,d=b.name,e=a.body,f=b.form;if(d&&"post_title"==d&&e&&e.className&&0<=e.className.indexOf("wp-admin")||d&&("symbols"==d||"symbol"==d)||"text"==b.type&&c&&(0<c.indexOf("_note")||0<c.indexOf("-note")))return!0;e=RegExp(lpgs("ff_combineddummy_regexp"),"i");return e.exec(c)||e.exec(d)?(verbose_log("combineddummy ignore on "+c+"/"+d),!0):f&&!popupfill_shoulddoform(a,f)?!0:!1}function LP_read_website_hint(){}
function LP_didFieldClickEvent(a,b){return!a||!b?!1:1==(LP_getBits(a,b)&1)}function LP_didFieldMouseEvent(a,b){return!a||!b?!1:2==(LP_getBits(a,b)&2)}function LP_didFieldKeyEvent(a,b){return!a||!b?!1:4==(LP_getBits(a,b)&4)}function LP_didDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);return 8==(LP_getBits(a,b)&8)}function LP_setFieldClickEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|1);return!0}
function LP_setFieldMouseEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|2);return!0}function LP_setFieldKeyEvent(a,b){if(!a||!b)return!1;var c=LP_getBits(a,b);LP_setBits(a,b,c|4);return!0}function LP_setBits(a,b,c){if(!a||!b)return!1;if("undefined"==typeof c||null===c)c=0;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_set_lpstates(b,c)}else b=LP_pickFieldName(a,b),verbose_log("lpsetbits "+b+" = "+c),a.lpstates[b]=c;return!0}
function LP_getBits(a,b){if(!a||!b)return 0;var c=0;if(g_isie)init_LPfn()&&LPfn&&(c=LPfn.ie_get_lpstates(b));else{a.lpstates||(a.lpstates={});var c=a.lpstates,d=LP_pickFieldName(a,b);verbose_log("lpstates for "+d+" == "+c[d]);c="undefined"!=typeof c[d]?c[d]:0}return c}function LP_setDocumentEscapeEvent(a){if(!a)return!1;var b=a.body;null==b&&(b=a.documentElement);var c=LP_setBits(a,b);return LP_setBits(a,b,c|8)}
function LP_resetAllBits(a){if(!a)return!1;if(g_isie){if(init_LPfn()&&LPfn)return LPfn.ie_reset_lpstates()}else return a.lpstates={},!0;return!1}function LP_fieldIsDisabled(a){return!a?!1:"undefined"!=typeof a.disabled&&a.disabled||"true"===a.getAttribute("aria-disabled")?!0:!1}function LP_fieldIsReadOnly(a){return!a?!1:"undefined"!=typeof a.readOnly&&a.readOnly||"true"===a.getAttribute("aria-readonly")?!0:!1}
function LP_fieldIsDecorative(a){return!a?!1:"presentation"===a.getAttribute("role")?!0:!1}
function create_clickable_icon_on_active_field(a,b){if(do_experimental_popupfill){if(!popupfill_shoulddofield(a,b,!1))return;var c=check_nevers(document,g_nevers,document.location.href),d=!0,e=!0,f=!0;null!=c&&(d=c.show_for_save,e=c.show_for_autofill,f=c.show_for_clickable_icon);var c=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),g=checkDocumentForLoginFirstStageForm(a),h;if(b.form&&lpIsVisible(b.form)){var k=null,k=LP_pickFormName(document,b.form),g=c||g||chk_form_has_password(document,
b.form);chk_form_is_nonlogin_form(document,b.form);g_is_specialsite&&looksLikeUsername(b)&&(g=!0);var j=chk_form_ask_generate(document,b.form);g&&!j||g_is_specialsite?(sendBG({cmd:"setpopupfillhint",formid:k,rowtype:"sites"}),g_do_icon_number_hint&&(h="sites")):g_aspx_hack&&isASPpage()?(sendBG({cmd:"setpopupfillhint",formid:k,rowtype:"sites"}),g_do_icon_number_hint&&(h="sites")):!g&&j&&chk_form_changepw(document,b.form)?(sendBG({cmd:"setpopupfillhint",formid:k,rowtype:"sites"}),g_do_icon_number_hint&&
(h="sites")):(g=form_get_username(a,b.form),j=form_get_password(a,b.form),g_do_icon_number_hint?(h=isInputFieldPassword(a,b)||g==b||j==b?"sites":"formfills",sendBG({cmd:"setpopupfillhint",formid:k,rowtype:h})):sendBG({cmd:"setpopupfillhint",formid:k,rowtype:"formfills"}))}if(c||g_is_specialsite||checkForLoginForm(document)){var m=punycode.URLToASCII(document.location.href),n=lp_gettld_url(m);setTimeout(function(){sendBG({cmd:"getpopupfillsites",tld:n,url:m})},0);if((0<g_popupfill_rows&&e||0==g_popupfill_rows&&
d)&&f)if(LP_getname_or_idx(document,b,LP_GETNAME_FAVOR_ID_OVER_NAME),g_do_icon_number_hint?setTimeout(function(){var c=LP_pickFieldName(a,b),d=!1;if((c=getIconState(a,c))&&c.fillhint)h=c.fillhint,d=c.no_check_generate;setup_input_icon(document,b,h,g_icon_numbers,d)},50):setTimeout(function(){setup_input_icon(document,b)},50),g_save_suggest_msg&&(h&&null!=typeof g_icon_numbers&&null!=typeof g_icon_numbers.sites&&1>g_icon_numbers.sites)&&b.addEventListener("click",function(a){var b=a.target;setTimeout(function(){do_save_suggest_msg(b,
document)},0);a.preventDefault();a.stopPropagation();return!1},!1),g_clickable_input&&(!("password"==b.type&&formHasUsernameField(b))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(document,b)&&h&&"sites"==h)LP_setFieldClickEvent(document,b),LP_addEventHandler(b,"click",function(a){a=a.target;var c=LPMAGIC+LP_getname_or_idx(document,a,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=document.getElementById(c)&&(g_clickable_input_on_password?is_your_popup_showing(document)||conditional_create_popup(document,
a,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(document,b.form),do_bgiconinput?popuptoggle(document,null,LP_getname_or_idx(document,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(document,c,a,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)));return!1},!1)}}return!0}
function relocate_popupfill_clickables(a){if(!a&&(a=LP_derive_doc(),!a))return null;if("function"==typeof a.getElementsByName){g_isfirefox&&verbose_log("relocate_popupfill_clickables doc is "+a.location.href);var b=LP_get_icon_divs(a);if(isEmptyObject(b))return null;try{var c,d=0;for(c in b)if(b.hasOwnProperty(c)){var e=b[c].substr(LPMAGIC.length);if(null!=e&&0<e.length){var f=e,g=LP_getElementByIdOrName(a,f);if(null==g&&!g_double_password_hack&&!g_double_secret_password_hack)LP_delete_floating_icon(a,
b[c])&&(verbose_log("relocate: deleting orphaned icon container for "+e),d++),g_do_icon_number_hint&&LP_delete_floating_icon_hint(a,b[c])&&(verbose_log("relocate: deleting orphaned icon number for "+e),d++),delete b[c];else if(g_do_icon_number_hint){if(null!=a.getElementById(b[c])){var h="",k=getIconState(a,f);k&&(h=k.fillhint);null!=h&&"sites"!=h&&(h=null);f={};g_isfirefox?f[h]=k.fillhintnumber:(f.sites=0<g_icon_number_overrides.sites?g_icon_number_overrides.sites:g_icon_numbers.sites,f.formfills=
0<g_icon_number_overrides.formfills?g_icon_number_overrides.formfills:g_icon_numbers.formfills);move_floating_icon(a,g,h,f)}}else move_floating_icon(a,g)}}}catch(j){verbose_log("relocate_popupfill_clickables caught error:"+j.message),g_isfirefox&&end_weasel(a)}if(0<d)if(g_isfirefox){var m=lpGetBrowserForDocument(a);setTimeout(function(){LP.checkShouldRecheck(m)},500)}else setTimeout(function(){checkShouldRecheck()},500)}}
function LP_getFormEquivalent(a,b){if(!b)return null;a||(a=b.ownerDocument);return!a?null:b.form?b.form:null}
function create_icons_on_ASP(a,b){if(do_experimental_popupfill){a||(a=LP_derive_doc());if(!a)return!1;verbose_log("trying alternate strategy for ASP page "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c.sites=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("FORM"),e,f,g=SHOULD_DO_ALWAYS,h=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(h=MAX_FORMS_HARD);var k=0;for(f=0;f<d.length&&f<h;f++){var j=d[f].elements;
chk_form_has_password(a,d[f]);chk_form_is_nonlogin_form(a,d[f]);chk_form_ask_generate(a,d[f]);var m=form_get_username(a,d[f]),n=form_get_password(a,d[f]),l=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(l=MAX_INPUTS_HARD);for(e=0;e<j.length&&e<l;e++){var p=!1,r=j[e],t="sites";if("INPUT"==r.tagName){var q=!1;if(popupfill_shoulddofield(a,r,g)){var s=LP_fieldGetWidth(r),u=!0;if(b){if(looksLikeUsername(r)||isInputFieldPassword(a,r))t="sites",p=!0}else if(m==r)t="sites",p=!0;else if(isInputFieldPassword(a,
r))r==lpCheckCurrentPWField(d[f],!0)?(t="sites",q=p=!0):n==r?(t="sites",q=p=!0):isContigPW(a,r.form,r)?(t="generate",p=!0):(t="sites",q=p=!0);else if(isFirstFieldNonLoginSubForm(a,r))t="formfills",p=!0,u=!1;else if(isUsernameFieldLoginSubForm(a,r)||isPasswordFieldLoginSubForm(a,r))t="sites",q=p=!0;if(p&&LP_iconFieldWidthOK(r,s,u)&&(k++,setup_input_icon(a,r,t,c,q),g_clickable_input&&(!("password"==r.type&&formHasUsernameField(r))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(a,r)&&t&&"sites"==
t))LP_setFieldClickEvent(a,r),LP_addEventHandler(r,"click",function(b){var c=b.target,d=LPMAGIC+LP_getname_or_idx(a,c,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=document.getElementById(d))g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,c,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,r.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,r,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,d,c,NO_FORCE_GENERATE,
FORCE_SHOW_NOHITS));else if(g_input_click_intercept)try{verbose_log("CLICK ON INPUT, process it"),icon_click_handler(b)}catch(e){}return!1},!1)}}}}verbose_log("created "+k+" icons on ASP page")}}
function check_for_ASP(a,b){if(b&&!isASPpage()&&g_aspx_hack){if((0===b.name.indexOf("ctl00$")||null!=b.form&&("ctl00"==b.form.name||"landingform"==b.form.name||"landingForm"==b.form.name||"aspnetForm"==b.form.name||"aspnetForm"==b.form.id)||0===b.name.indexOf("ctl00_"))&&!isASPpage())setASPpage(!0),verbose_log("detected ASP.NET form, one if by land");try{a.location&&(a.location.href&&0<a.location.href.indexOf(".aspx"))&&(b.form&&(b.form.elements&&b.form.elements.length&&6<b.form.elements.length)&&
!isASPpage())&&(setASPpage(!0),verbose_log("detected ASP.NET form, two if by sea"))}catch(c){verbose_log("check_for_ASP:"+c.message)}}}
function LP_fieldGetWidth(a){var b={},c=0;if("undefined"!=typeof g_isie&&g_isie){if("undefined"!=typeof a.offsetWidth&&(c=parseInt(a.offsetWidth)),!c)if("undefined"!=typeof a.currentStyle)(b=a.currentStyle)&&(c=parseInt(b.width));else return 0}else if(c=a.style.width.replace(/px/,""),0<c.indexOf("%")&&(c=c.replace(/%/,"")),""==c)try{b=a.ownerDocument.defaultView.getComputedStyle(a,""),c=b.width.replace(/px/,"")}catch(d){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle,c=b.width.replace(/px/,
""))}if("NaN"==c||""===c)c=0;return c}
function LP_iconFieldWidthOK(a,b,c){if(!a||null===b)return!1;var d=a.ownerDocument;if(!d)return verbose_log("iconFieldWidthOK: no doc???"),!1;if("undefined"==typeof c||null===c)if(isInputFieldPassword(d,a))c=!0;else{var e=a.form;e&&chk_form_has_password(d,e)&&(c=!0)}c?0<b&&40>b?a=!1:(a?(b=a.getAttribute("size"),c=a.getAttribute("maxlength"),null==b&&(b=a.size),null==c&&(c=a.maxLength),a=""==a.style.width&&b&&2>b&&0<=b||c&&3>c&&0<=c?!1:!0):a=!1,a=!a?!1:!0):a=0<b&&100>b?!1:!0;return a}
function end_weasel(a){if(do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),a)){var b;b=a&&null!=a.g_weasel_id?a.g_weasel_id:g_weasel_id;null!=b&&clearTimeout(b);g_isfirefox?a&&(a.g_weasel_id=null,a.g_weaseled=!1):(g_weasel_id=null,g_weaseled=!1)}}
function relocate_popupfill_iframes(a,b){if(do_experimental_popupfill)try{var c=a;g_isfirefox&&(c="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument);if(!a||!c)return null;if(g_isfirefox&&null==a.location){verbose_log("relocate_popupfill_iframes given zombie document?");var d="undefined"!=typeof LP.lpGetCurrentWindow().getBrowser?LP.lpGetCurrentWindow().getBrowser().contentDocument:LP.getBrowser().contentDocument;
closepopupfills(d)}else{var e=d=!1;if(!f){var f=a.defaultView;f||(f=a.parentWindow)}var g,h=c.getElementsByTagName("iframe");for(g=0;g<h.length;g++){var k=h[g];if("undefined"!=typeof k.id&&null!=k.id){var j=LPMAGICIFRAME;if(0==k.id.indexOf(j)){var m=k.id.substr(j.length),j=m,d=!0,n=LP_getElementByIdOrName(a,m),l=!b;if(g_isfirefox||null!=n&&lpIsVisible(n,l)){var p=null;g_isfirefox?(p=ff_get_iframe_pos(a,f,n,j,c),null!=p&&(e=!0)):p=calculate_iframe_pos(a,n,0<g_minwidth_override?g_minwidth_override:
0);null!=p&&(g_fixed_iframe_position?place_iframe_fixed(a,f,k,p,c):place_iframe_absolute(a,f,k,p,c))}else g_create_iframe_in_top&&!g_isie&&!g_isfirefox&&!LP_inIframe(f)&&toplevel_iframe_state_get()?(p=LP_getAbsolutePos(a,k,!0),p.posx=p.left,p.posy=p.top,place_iframe_absolute(a,f,k,p,c)):!g_isfirefox&&(!g_double_password_hack&&!g_double_secret_password_hack)&&closepopupfills(a)}}}g_isfirefox&&(!e&&d)&&(verbose_log("found orphan iframe, remove it"),closepopupfills(a))}}catch(r){lplog("relocate_popupfill_iframe failed, "+
r.message),do_bgiconinput||end_weasel(a),g_isfirefox&&closepopupfills(a)}}
function handle_form_text_change(a,b,c,d){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;a&&b&&popupfill_shoulddofield(a,b,SHOULD_DO_ALWAYS)&&should_track_field_onkeyup(b)&&update_preobfuscate_field_value(b);if(!(null==c||null==b||null==d||null==d.keyCode||0==d.keyCode|16==d.keyCode))if((!c||popupfill_shoulddoform(a,c))&&popupfill_shoulddofield(a,b,SHOULD_DO_ALWAYS)){var e=b.value,f=LP_pickFieldName(a,b);if(g_clickable_input_on_password){var g=g_popup_active_username,h=g_popup_active_password;
null==g&&(g="undefined"==typeof b.form||null==b.form?doc_get_orphan_username(a):form_get_username(a,b.form));null==h&&(h="undefined"==typeof b.form||null==b.form?doc_get_orphan_password(a):form_get_password(a,b.form));var k=checkDocumentForLoginOrphans(a)||checkDocumentForLoginOrphansFirstStage(a),j=checkDocumentForCPWOrphans(a),k=k||chk_form_has_password(a,c),j=j||chk_form_is_nonlogin_form(a,c),m=chk_form_ask_generate(a,c);if(g&&h&&(k||m)&&!j){if(b!=g){b==h?(g_isie||(e=g.value,g_isfirefox||sendBG({cmd:"popupfillinputsave",
inputstr:e,inputid:f,inputtype:"password"})),verbose_log("KEYPASS4 username="+e)):(g_isie||(g_isfirefox?d&&(d.keyCode&&d.keyCode!=KEY_TAB&&d.keyCode!=KEY_UP&&d.keyCode!=KEY_DOWN&&d.keyCode!=KEY_SHIFT&&d.keyCode!=KEY_LEFT&&d.keyCode!=KEY_RIGHT)&&ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log('KEYPASS5 username=""'));return}}else{g_isie||(verbose_log('KEYPASS6 formfill? username=""'),g_isfirefox?ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",
inputstr:"",inputid:f}));return}}if(null==e||0==e.length)g_isie||(g_isfirefox?ff_do_popupinputupdate(""):sendBG({cmd:"popupfillinputsave",inputstr:"",inputid:f})),verbose_log("KEYPASS7 empty username");else{d=0;for(var n in g_autofillsites)d++;if(!(0>=d)||g_change_icon_on_input){n=0;d=null;for(var l in g_autofillsites)"undefined"!=typeof g_autofillsites[l].useusername&&0==g_autofillsites[l].useusername.indexOf(e)&&(n++,d=g_autofillsites[l]);if(1==n)do_autofill_if_matched?g_isie||(g_isfirefox?ff_autofill(a,
d.aid):sendBG({cmd:"autofillaid",aid:d.aid})):(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS8 match>0 username="+e));else if(g_isie||(g_isfirefox?ff_do_popupinputupdate(e):sendBG({cmd:"popupfillinputsave",inputstr:e,inputid:f,inputtype:b.type,issaveall:issaveall(c)})),verbose_log("KEYPASS9 match>1 username="+e),chk_form_has_password(a,c),g_change_icon_on_input&&(b=c.elements,"undefined"!=
typeof Math&&(c=Math.floor(1E4*Math.random()),null!=b)))for(e=0;e<b.length&&!(f=b[e],checkIsDisplayed(a,f,0,null,c)&&isInputFieldPassword(a,f)&&null!=f.value&&0<f.value.length);e++);}}}}}function LP_derive_doc(){var a=null,a="undefined"!=typeof g_isfirefox&&g_isfirefox&&LP?LP.getBrowser().contentDocument:document;return!a?null:a}
function checkDocumentForCPWOrphans(a){if(!a&&(a=LP_derive_doc(),!a))return null;var b=formcacheget(a,"fakedoc","cpw");if(null!=b)return b;var b=null,c=0,d=a.getElementsByTagName("INPUT");Checkpoint.assert(d.length<=MAX_INPUTS_HARD,"page has too many inputs");for(var e=0;e<d.length;e++){var f=d[e];if(e>MAX_INPUTS_HARD)break;if(null==f.form){if(isInputFieldPassword(a,f)&&lpIsVisible(f)&&(c++,f=lpIsFieldCurrentPWField(f))){if(b)return!1;b=f}if(4<=c)return formcacheset(a,"fakedoc","cpw",!1),!1}}if(2<=
c&&b)return formcacheset(a,"fakedoc","cpw",!0),!0;formcacheset(a,"fakedoc","cpw",!1);return!1}
function create_icons_generic(a,b){if(do_experimental_popupfill){if(!a&&(a=LP_derive_doc(),!a))return null;verbose_log("trying generic strategy "+a.location.href);var c=[];if(g_do_icon_number_hint)if(g_isfirefox){var d=LP.getMatchingSites(a.location.href,SKIP_GENPWS);c.sites=d&&d.length?d.length:0}else c=g_icon_numbers;var d=a.getElementsByTagName("INPUT"),e,f=d.length;e=MAX_INPUTS_SOFT;LP_exceedInputsThreshold(a)||(e=MAX_INPUTS_HARD);Checkpoint.assert(f<=e,"page has too many inputs");f>e&&(f=e);
var g=SHOULD_DO_ALWAYS,h=checkDocumentForLoginOrphans(a);LP_firstVisibleOrphan(a);var k=0;for(e=0;e<f;e++){var j=d[e].form,m=null,n=null;j?(m=form_get_username(a,j),n=form_get_password(a,j)):(m=doc_get_orphan_username(a),n=doc_get_orphan_password(a));var l=d[e],p=!1,r="sites",t=!1;if(popupfill_shoulddofield(a,l,g)){var q=LP_fieldGetWidth(l),s=!0;if(b){if(looksLikeUsername(l)||isInputFieldPassword(a,l))r="sites",p=!0}else if(m==l)r="sites",p=!0;else if(isInputFieldPassword(a,l))j&&l==lpCheckCurrentPWField(j,
!0)?(r="sites",t=p=!0):lpIsFieldCurrentPWField(l)?(r="sites",t=p=!0):n==l?(r="sites",t=p=!0):isContigPW(a,l.form,l)?(r="generate",p=!0):(r="sites",t=p=!0);else if(isFirstFieldNonLoginSubForm(a,l))r="formfills",p=!0,s=!1;else if(isUsernameFieldLoginSubForm(a,l)||isPasswordFieldLoginSubForm(a,l))r="sites",t=p=!0;else if(null==l.form&&h&&(looksLikeUsername(l)||isInputFieldPassword(a,l)))r="sites",p=!0;if(p&&LP_iconFieldWidthOK(l,q,s)&&(k++,setup_input_icon(a,l,r,c,t),g_clickable_input&&(!("password"==
l.type&&formHasUsernameField(l))||g_clickable_input_on_password)&&!LP_didFieldClickEvent(a,l)&&r&&"sites"==r))LP_setFieldClickEvent(a,l),LP_addEventHandler(l,"click",function(b){var c=b.target,d=LPMAGIC+LP_getname_or_idx(a,c,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=document.getElementById(d))g_clickable_input_on_password?is_your_popup_showing(a)||conditional_create_popup(a,c,FORCE_SHOW_NOHITS_NOLOGIN):(set_active_username_password(a,l.form),do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,l,LP_GETNAME_FAVOR_ID_OVER_NAME),
NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,d,c,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS));else if(g_input_click_intercept)try{verbose_log("CLICK ON INPUT, process it"),icon_click_handler(b)}catch(e){}return!1},!1)}}verbose_log("created "+k+" icons on generic page");return!0}}
function draw_context_tip(a,b){if(!g_context_tip_shown&&checkIsDisplayed(a,b,0,lp_gettld_url(punycode.URLToASCII(a.location.href)),0,!0)){g_context_tip_shown=1;var c=LP_getAbsolutePos(a,b),d=c.left+c.width-10-300+22,e=a.createElement("iframe");e.frameborder=0;e.setAttribute("frameborder",0);e.style.width="300px";e.style.height="200px";e.style.position="absolute";e.style.left=d+"px";e.style.top=c.top+c.height+"px";e.style.zIndex=CLICKABLE_ICON_ZINDEX;e.id="lpttipif";e.src=getchromeurl("tip_context.html");
a.body.appendChild(e);var f=a.createElement("div");f.style.width="300px";f.style.height="200px";f.style.position="absolute";f.style.left=d+"px";f.style.top=c.top+c.height+"px";f.style.zIndex=CLICKABLE_ICON_ZINDEX+1;f.id="lpttipdv";a.body.appendChild(f);f.addEventListener("click",function(){a.body.removeChild(e);a.body.removeChild(f);g_tutorial_flags|=TUTORIAL_FLAG_CONTEXT;save_tutorial_flags()},!1)}}
function element_is_detached(a,b,c){if(!b||!a&&(a=b.ownerDocument,!a))return!1;"undefined"==typeof c&&(c=0);var d=null;try{if(15<c&&(d=!1),null==b.parentNode&&(d=!0),b.parentNode===a.documentElement||b.parentNode===b.ownerDocument.documentElement)d=!1}catch(e){d=!0}return null==d?element_is_detached(a,b.parentNode,c+1):d}
function ForceFillOrphanFieldClicked(a,b,c){if(!a&&(a=elt.ownerDocument,!a))return!1;var d=!0;if(d=ForceFillFieldClicked(a,b,!1,c))for(var e=a.getElementsByTagName("INPUT"),f=0,f=0;f<e.length&&f<MAX_INPUTS_HARD;f++)if(e[f]==b&&e[f+1]&&f+1<e.length&&f+1<MAX_INPUTS_HARD){isInputFieldPassword(a,e[f+1])&&!lpIsFieldCurrentPWField(e[f+1])&&(d=ForceFillFieldClicked(a,e[f+1],!1,c));break}return d}
function LP_inIframe(a){a||(a=window);if(null==g_inframe)try{return get_win_self(a)!==a.top}catch(b){return!0}else return g_inframe}function toplevelpopupsetstate_handler(a){g_create_iframe_in_top&&toplevel_iframe_state_set(a?!0:!1)}function toplevel_iframe_state_get(){return g_toplevel_iframe_exists}function toplevel_iframe_state_set(a){g_toplevel_iframe_exists=a}
function LP_computeFixedPos(a,b,c){if(!a||!c)return null;var d,e,f,g;try{b?(d=parseInt(b.top)+"px",e=parseInt(b.left)+"px"):e=d="10px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";f=g_minheight_override;g=g_minwidth_override;f=0>parseInt(f)||!f||"NaNpx"==f?"90px":parseInt(f)+"px";g=0>parseInt(g)||!g||"NaNpx"==g?"300px":parseInt(g)+"px";if(0>parseInt(d)||!d||"NaNpx"==d)d="10px";if(0>parseInt(e)||!e||"NaNpx"==e)e="10px";return{left:e,top:d,width:g,height:f}}catch(h){}return null}
function place_iframe_fixed(a,b,c,d){if(!c)return!1;if(!a&&(a=LP_derive_doc(),!a))return null;b||(b=window);var e,f,g,h,k="";try{if(toplevel_iframe_state_get()){var j=LP_computeFixedPos(a,d,b);j?(e=j.top,h=j.width,g=j.height,f=j.left):(e="10px",h="300px",g="90px",f="10px");g=0>parseInt(g)||!g||"NaNpx"==g?"90px":parseInt(g)+"px";h=0>parseInt(h)||!h||"NaNpx"==h?"240px":parseInt(h)+"px";k="width: "+h+" !important; height: "+g+" !important; top:"+e+" !important; left:"+f+" !important; position: fixed;"}else pass;
a="display:block; position:fixed !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:none !important; opacity: 1.0 !important; ";"undefined"!=typeof g_isie&&g_isie&&(a+="filter:alpha(opacity=100) !important;");k=a+k;c.style.cssText!=k&&(c.style.cssText=k)}catch(m){return verbose&&alert("place_fixed: "+m.message),!1}return!0}
function place_iframe_absolute(a,b,c,d,e){if(!c||!a||!b||!d)return!1;var f=null,g;if("undefined"!=typeof Math){try{var h=d.posx,k=d.posy,j=parseInt(h)+"px",m=parseInt(k)+"px";d=0;0<parseInt(g_minwidth_override)?(d=Math.max(parseInt(g_popupfill_iframe_width_save),parseInt(g_minwidth_override))+"px",(g=LP_getWindowWidth(b,!0))&&parseInt(d)+parseInt(j)>g&&(j=g-parseInt(d)-20+"px")):0<parseInt(g_popupfill_iframe_width_save)?d=parseInt(g_popupfill_iframe_width_save)+"px":(null==f&&(f=LP_getComputedStyle(b,
c)),d=f.width);0>parseInt(j)&&(j="0px");g=0;0<parseInt(g_minheight_override)?g=Math.max(parseInt(g_popupfill_iframe_height_save),parseInt(g_minheight_override))+"px":""!=g_popupfill_iframe_height_save&&0<parseInt(g_popupfill_iframe_height_save)?g=parseInt(g_popupfill_iframe_height_save)+"px":(null==f&&(f=LP_getComputedStyle(b,c)),f&&(g=f.height));if(g_iframe_scroll_hack&&!g_frame_scrollable_set){var n=parseInt(g),l=parseInt(d),p;p=b&&"undefined"!=typeof b.getComputedStyle?g_isfirefox?LP_getComputedStyle(b,
a.documentElement):LP_getComputedStyle(b,a.body):"undefined"!=typeof a.documentElement?LP_getComputedStyle(b,a.documentElement):LP_getComputedStyle(b,a.body);parseInt(p.height);parseInt(p.width);var r=b.innerHeight,t=b.innerWidth;if(null!=n&&0<n&&null!=r&&0<r||null!=l&&0<l&&null!=t&&0<t)if((parseInt(k)+n>r||parseInt(h)+l>t)&&LP_inIframe(b)){if(g_isfirefox){enableScrollWithinIframe(a,b);var q=LP.getBrowser(),s=q?q.contentDocument:null;s&&s!=a&&enableScrollOnIframe(a.location.href,e)}else g_isie||(verbose_log("ensuring this frame/iframe has scrolling enabled"),
sendBG({cmd:"iframescrollenable",href:a.location.href}));g_frame_scrollable_set=!0}}if("NaNpx"==m||""===m||"NaNpx"==j||""===j||"NaNpx"==d||""===d||"NaNpx"==g||""===g)verbose_log("invalid iframe pos"),closepopupfills(a);g_iframe_dims.width=d;g_iframe_dims.height=g;g_iframe_dims.top=m;g_iframe_dims.left=j;a="width: "+d+" !important; height: "+g+" !important; top:"+m+" !important; left:"+j+" !important;";if(""==g_frame_css_str)try{var u=document.body.getAttribute("data-lp-gcss");u&&(g_frame_css_str=
LPJSON.parse(u),document.body.removeAttribute("data-lp-gcss"))}catch(v){verbose_log("JSON error:"+v)}u=g_frame_css_str+a;u.match(/position: *absolute/)||(u+=" position: absolute;");normalize_css(c.style.cssText)!=normalize_css(u)&&(c.style.cssText=u,c.setAttribute("width",d),c.setAttribute("height",g))}catch(z){verbose&&alert("place_abs "+z.message)}return True}}
function normalize_css(a){a=a.replace(/ /g,"");a=a.replace(/1\.0/g,"1");a=a.replace(/2147483647/g,"2147483648");a=a.replace("border-top-style:none!important;border-right-style:none!important;border-bottom-style:none!important;border-left-style:none!important;","border-style:none!important;");g_isie&&(a=a.replace("filter:alpha(opacity=100)!important;",""),a=a.replace("border-style:none!important;",""),a=a.split(";").sort().join(";"));return a}
function ff_get_iframe_pos(a,b,c,d,e){if(!g_isfirefox||!e)return null;var f;b=null;c=[];try{var g=e.getElementsByTagName("iframe");for(f=0;f<g.length&&50>f;f++)url_is_lpfirefox_iframe(g[f].src)||(c[c.length]=g[f]);g=e.getElementsByTagName("frame");for(f=0;f<g.length&&50>f;f++)c[c.length]=g[f];if(a&&a==e)try{a=g_popup_iframe_doc.defaultView.parent.document.g_popupfill_parent.ownerDocument}catch(h){L("frame lookup error: "+h)}var k=getIconState(a,d);if(k)if(g=f=a=null,k&&k.inframe){verbose_log("Input is in frame!");
for(k=k=0;k<c.length;k++){f=null;verbose_log("Trying frame "+c[k].src);try{f=c[k].contentDocument;var j=LP_getElementByIdOrName(f,d);if(j&&"INPUT"==j.tagName){verbose_log("Found INPUT "+d+" in "+f.location.href);g=LP_getAbsolutePos(e,c[k]);break}}catch(m){verbose_log("Error frame traverse "+m.message);return}}if(f&&g&&(verbose_log("computing iframe position [against iframe]"),a=LP_getElementByIdOrName(f,d))){var n=ff_calculate_iframe_pos(f,a,0<g_minwidth_override?g_minwidth_override:0);b={posx:parseInt(n.posx)+
g.left+"px",posy:parseInt(n.posy)+g.top+"px"};verbose_log("computed x="+b.posx+" y="+b.posy)}}else null!=k&&!isEmptyObject(k)?(verbose_log("computing iframe position [against toplevel]"),(a=LP_getElementByIdOrName(e,d))&&(b=ff_calculate_iframe_pos(e,a,0<g_minwidth_override?g_minwidth_override:0))):verbose_log("data object is missing for "+d)}catch(l){verbose&&alert("ff_pos "+l.message)}return b}function LP_do_toplevel_iframe_hack(a){return!a||g_isie||g_isfirefox?!1:!0}
function LP_floating_icon_exists(a,b){return!a&&(a=LP_derive_doc(),!a)?!1:null==LP_getElementByIdOrName(a,LPMAGIC+b)}
function checkDocumentForNonLoginOrphans(a){if(null==a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup"),c=formcacheget(a,"fakedoc","orphan-registration"),d=formcacheget(a,"fakedoc","orphan-cc"),b=b||c||d;if(null!=b)return b;b=RegExp(lpgs("ff_firstname_regexp"),"i");c=RegExp(lpgs("ff_lastname_regexp"),"i");d=RegExp(lpgs("ff_cctype_regexp"),"i");lpgs("ff_address1_regexp");lpgs("ff_forgot_regexp");lpgs("ff_remember_regexp");var e=!1,f=!1,g=!1,h=!1,k=!1;try{gettldcached(a.location.href)}catch(j){return!1}for(var m=
0,n=a.getElementsByTagName("INPUT"),l=0;l<n.length&&20>l;l++){var p=n[l];if("INPUT"==p.tagName){LP_isRememberCheckbox(p)&&(lpIsVisible(p)&&!LP_fieldIsDisabled(p))&&m++;if("email"==p.type||"text"==p.type||"password"==p.type){if(LP_fieldIsDisabled(p))continue;if(LP_fieldIsDisabled(p))continue;if(!valid_by_role(a,p))continue;if(!lpIsVisible(p))continue;if(is_search_field(a,p,!0))continue;var r=p.name,t=p.id?p.id:"",q=lpGetTextBeforeFormField(p);looksLikeUsername(p)?e=!0:isInputFieldPassword(a,p)?f=!0:
b.exec(t)||b.exec(r)||b.exec(q)?g=!0:c.exec(t)||c.exec(r)||c.exec(q)?h=!0:d.exec(t)||d.exec(r)||d.exec(q)?k=!0:regexp_address1.exec(t)||regexp_address1.exec(r)||regexp_address1.exec(q);m++}if(3<=m){if(e&&f&&!k)return verbose_log("document appears to be have orphan signup fields"),formcacheset(a,"fakedoc","orphan-signup",!0),formcacheset(a,"fakedoc","orphan-cc",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if(k&&!e&&!f)return verbose_log("document appears to be have orphan credit card fields"),
formcacheset(a,"fakedoc","orphan-cc",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-registration",!1),!0;if((g||h)&&e)return verbose_log("document appears to be have orphan registration fields"),formcacheset(a,"fakedoc","orphan-registration",!0),formcacheset(a,"fakedoc","orphan-signup",!1),formcacheset(a,"fakedoc","orphan-cc",!1),!0}}}formcacheset(a,"fakedoc","orphan-signup",!1);formcacheset(a,"fakedoc","orphan-cc",!1);formcacheset(a,"fakedoc","orphan-registration",
!1);return!1}function checkDocumentHasOrphanSignup(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-signup");if(null!=b)return b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-signup")}function checkDocumentHasOrphanCC(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-cc");if(null!=b)return b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-cc")}
function checkDocumentHasOrphanRegistration(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-registration");if(null!=b)return b;checkDocumentForNonLoginOrphans(a);return formcacheget(a,"fakedoc","orphan-registration")}
function LP_should_ignore_this_doc(a){if(!a||!a.location)return!0;a=a.location.href;return 0==a.indexOf("chrome:")||(0==a.indexOf("chrome-extension://")||0==a.indexOf("safari-extension://")||0==a.indexOf("about:")||0==a.indexOf("javascript:")||0==a.indexOf("resource:"))||0<a.indexOf(".xul")?!0:!1}
function LP_elt_get_text(a){return!a?"":"undefined"!=typeof g_isfirefox&&g_isfirefox?null==a.textContent?"":a.textContent:"undefined"!=typeof a.textContent&&null!=a.textContent?a.textContent:get_innertext(a)}function LP_elt_set_text(a,b){if(!a)return!1;"undefined"!=typeof g_isfirefox&&g_isfirefox?a.textContent=b:set_innertext(a,b);return!0}
function checkDocumentForLoginOrphansFirstStage(a){if(!a)return!1;var b=formcacheget(a,"fakedoc","orphan-first");if(null!=b)return b;if("undefined"!=typeof Math){for(var b=[],c=[],d=0,e=!1,f=Math.floor(1E4*Math.random()),g=["input"],h=0;h<g.length;h++)for(var k=a.getElementsByTagName(g[h]),j=0;j<k.length;j++){var m=k[j];if(20<j)break;if(!k[j].form&&checkIsDisplayed(a,k[j],0,null,f)){verbose_log("checking "+LP_pickFieldName(a,m));if(null!=m.id&&""!=m.id){var n=c[m.id];if(null==n)c[m.id]=!0;else continue}if(null!=
m.name&&""!=m.name)if(n=b[m.name],null==n)b[m.name]=!0;else continue;looksLikeUsername(m)&&d++;if(isInputFieldPassword(a,m)){e=!0;break}if(2<d)break}}if(0<d&&4>=d&&!1==e)return verbose_log("orphan and isolated login field found"),formcacheset(a,"fakedoc","orphan-first",!0),!0;formcacheset(a,"fakedoc","orphan-first",!1);return!1}}
function checkDocumentForLoginFirstStageForm(a){if(!a)return!1;var b=MAX_FORMS_SOFT;LP_exceedFormsThreshold(a)||(b=MAX_FORMS_HARD);var c=a.getElementsByTagName("form");Checkpoint.assert(c.length<b,"too many forms on page");for(var d=!1,e=0;e<c.length&&e<b;e++)if(d=checkFormForLoginFirstStage(a,c[e]))return d;return!1}
function checkFormForLoginFirstStage(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_pickFormName(a,b);verbose_log("checking "+c+" for first stage of multi-stage login");var d=formcacheget(a,c,"multi-first");if(null!=d)return d;if("undefined"==typeof Math)return False;for(var d=0,e=!1,f,g=Math.floor(1E4*Math.random()),h=0,k=0;20>k&&k<b.elements.length;k++)if(f=b.elements[k],"INPUT"==f.tagName&&checkIsDisplayed(a,f,0,null,g)){looksLikeUsername(f)&&d++;if("text"==f.type||"tel"==f.type||
"url"==f.type||"email"==f.type||"textarea"==f.type){if("string"==typeof f.id&&"identifier-captcha-input"==f.id)try{if("google.com"==gettldcached(a.location.href))continue}catch(j){}h++}if(isInputFieldPassword(a,f)){e=!0;break}if(2<=d)break;if(2<=h)break}if(0<d&&3>=d&&!1==e&&2>h)return verbose_log("isolated login field/initial stage of multi-stage found"),formcacheset(a,c,"multi-first",!0),!0;formcacheset(a,c,"multi-first",!1);return!1}
function computeFingerprint(a){if(!a)return"";var b="",c=a.getElementsByTagName("INPUT"),d;for(d=0;d<c.length&&20>d;d++)b+=c[d].id?c[d].id:c[d].name;a=a.getElementsByTagName("DIV");b+=a.length.toString();try{"undefined"!=typeof crc32&&(b=crc32(b).toString())}catch(e){}return b}
function LP_firstVisibleOrphan(a){if(!a)return null;a=a.getElementsByTagName("INPUT");var b,c=null;for(b=0;b<a.length&&50>b;b++)if(c=a[b],!c.form&&("text"==c.type||"password"==c.type||"url"==c.type||"email"==c.type)&&lpIsVisible(c))return c;return null}
function LP_has_textlike_type(a){if(!a)return!1;var b=a.tagName.toUpperCase();if("INPUT"!=b&&"TEXTAREA"!=b)return!1;if("TEXTAREA"==b)return!0;var b="text number email tel url textarea".split(" "),c;for(c in b)if(b.hasOwnProperty(c)&&a.type==b[c])return True;return False}function LP_get_cached_body_rect(a){if(!a)return null;var b;b=LP_get_body_reference(a);"undefined"==typeof a.g_posbodyrect_cache&&b?(b=b.getBoundingClientRect(),a.g_posbodyrect_cache=b):b=a.g_posbodyrect_cache;return b}
function LP_get_body_reference(a){if(!a)return null;var b=null;"undefined"!=typeof a.body?b=a.body:a.getElementById("main")&&(b=a.getElementById("main"));return b}
function LP_get_cached_body_style(a){if(!a)return null;var b=LP_get_body_reference(a),c=null;"undefined"==typeof a.g_posbodystyle_cache?b&&(c=(c="undefined"!=typeof window&&window?window:a.defaultView)&&"undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle,a.g_posbodystyle_cache=c):c=a.g_posbodystyle_cache;return c}
function LP_get_live_style(a){if(!a||!a.ownerDocument||!g_isie&&!a.ownerDocument.defaultView)return null;var b;if(g_isie&&a.currentStyle)b=a.currentStyle;else try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}return b}
function LP_treat_as_hidden(a){return!a||"hidden"==a.type||!a.parentNode||0==a.id.indexOf("hidden")&&("none"==a.style.display||"none"==a.parentNode.style.display)||"true"===a.getAttribute("aria-hidden")?!0:(a=a.getAttribute("hidden"))&&"false"!==a?!0:!1}
function LP_input_has_bg_style_override(a){if(!a||!g_stylesheet_grubbing)return!1;var b=!1;try{var c=formcacheget(a,"fakedoc","input-bg-style");if(null!=c)return c;var d=c=0,e=/(background|background-color):[^:].*!important/,f=a.styleSheets;if(f&&e)for(c=0;c<f.length&&32>c;c++){var g=null;"undefined"!=typeof f[c].rules?g=f[c].rules:"undefined"!=typeof f[c].cssRules&&(g=f[c].cssRules);if(g){for(d=0;d<g.length;d++)if(g[d]&&g[d].selectorText&&g[d].cssText&&-1!=g[d].selectorText.indexOf("input:focus")){var h=
g[d].cssText;if(h&&e.exec(h)){verbose_log("focus hack:"+h);b=!0;break}}if(b)break}}}catch(k){}formcacheset(a,"fakedoc","input-bg-style",b);return b}
function is_wacky_disp(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;if(b==a.body)return!0;var c=!0;try{var d=LP_get_live_style(b);if(d){if("none"==d.display||"hidden"==d.visibility)c=!1;if(!0==c&&(!b.offsetHeight||!b.offsetHeight))c=!1;if(!0==c&&(0==d.height||0==d.width))c=!1;if(!0==c&&(2>parseInt(d.height)||2>parseInt(d.width)))c=!1;if(!0==c&&(0>parseInt(d.left)&&"auto"!=d.left||0>parseInt(d.top)&&"auto"!=d.top))c=!1;!0==c&&("-1px"==d.marginTop&&1==b.offsetHeight)&&(c=!1);if(!0==c&&(3>b.offsetHeight||
3>b.offsetWidth))c=!1;if(!0==c&&("transparent"==d.backgroundColor&&"transparent"==d.color||g_isie&&"transparent"==d.backgroundColor&&""==d.color||"rgba(0, 0, 0, 0)"==d.backgroundColor&&"rgba(0, 0, 0, 0)"==d.color))c=!1;!0==c&&(d.opacity&&0.02>parseFloat(d.opacity))&&(c=!1);if(!0==c&&g_isie&&d.filter){var e=/alpha\(opacity=(\d+)\)/.exec(d.filter);e&&(e[1]&&2>parseInt(e[1]))&&(c=!1)}}}catch(f){c=!0}if(c)try{var g=b.parentNode;g||(c=!1);var h=LP_get_live_style(g);if(h){if(!0==c&&("none"==h.display||
"hidden"==h.visibility))c=!1;if(!0==c&&(0>parseInt(h.left)&&"auto"!=h.left||0>parseInt(h.top)&&"auto"!=h.top))c=!1;if(!0==c&&(3>parseInt(h.height)&&"auto"!=h.height||3>parseInt(h.width)&&"auto"!=h.width)&&("hidden"==h.overflowY||"hidden"==h.overflow))c=!1}}catch(k){c=!0}return c}function LP_get_text_dir(a){var b=!0;if(a){var c=LP_get_live_style(a);c&&"rtl"==c.direction?b=!1:"rtl"==a.getAttribute("dir")&&(b=!1)}return b}
function is_random_hashstr(a){return!a?!1:(16==a.length||32==a.length)&&a.match(/^[a-zA-Z0-9]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()||32==a.length&&a.match(/^[a-f0-9]+$/)||a.match(/_\d{18}[A-Z]{4}_/)||17==a.length&&"a"==a.charAt(0)&&a.match(/^[a-zA-Z0-9_]+$/)&&a!=a.toLowerCase()&&a.match(/[0-9]/)&&a!=a.toUpperCase()||(20==a.length&&a.match(/^[A-Z]0[A-F]\d{16}[A-Z]$/)||21==a.length&&a.match(/^[A-Z]0[A-F]\d{17}[A-Z]$/))||18==a.length&&a.match(/^el[0-9a-f]{16}$/)||24<a.length&&
a.match(/^yui_[0-9_]+$/)?!0:!1}function get_win_self(a){return"undefined"!=typeof g_isfirefoxsdk&&g_isfirefoxsdk?a:a.self}function should_ignore_autocompleteoff_bypref(a,b){if(!b||!a&&((a=b.ownerDocument)||(a=LP_derive_doc()),!a))return!0;var c=!1;"undefined"!=typeof lpdontfillautocompleteoff&&(c=lpdontfillautocompleteoff?!0:!1);return c&&"off"==b.getAttribute("autocomplete")?(verbose_log("pref+autocomplete=off, not filling "+LP_getname(b)),!0):!1}
function LP_element_is_MaskedField(a){if(!a)return!1;var b="",c="";try{b=a.ownerDocument.location.href,c=gettldcached(b)}catch(d){return!1}return!LP_has_textlike_type(a)?!1:"fidelity.com"==c&&!0===a.hasAttribute("data-unmasked")||a.hasAttribute("data-masklength")||("citi.com"==c||"citibank.com"==c)&&(name_is_MaskedField(LP_getname(a))||name_is_MaskedField(LP_getname(a,LP_GETNAME_FAVOR_ID_OVER_NAME)))?!0:!1}
function LP_element_in_MaskedState(a){if(!a)return!1;var b=a.value;return b&&"string"==typeof b&&0<b.length&&"password"!=a.type&&0<=b.indexOf("***")?!0:!1}function name_is_MaskedField(a){return null==a||0>=a.length?!1:a.match(/masked/i)&&!a.match(/unmasked/i)?!0:!1}function name_is_UnmaskedField(a){return null==a||0>=a.length?!1:a.match(/unmasked/i)?!0:!1}
function LP_get_input_pattern(a,b){if(!a||!b)return null;var c=LP_pickFieldName(a,b),d=fieldcacheget(a,c,"input_pattern");if(null!=d)return d;(d=b.getAttribute("pattern"))&&(d=d.trim());if(!d)return null;-1==d.indexOf("?:")&&-1==d.indexOf("$")&&(d="^(?:"+d+")$");fieldcacheset(a,c,"input_pattern",d);return d}
function LP_get_input_pattern_desc(a,b){if(!a||!b)return null;var c=b.getAttribute("title");if(c)return c;if(c=b.getAttribute("aria-describedby"))if(c=a.getElementById(c))return LP_elt_get_text(c);return null}function LP_test_input_pattern(a,b){if(!a||!b)return null;var c=LP_get_input_pattern(a,b);if(!c)return!1;c=RegExp(c);return!c?!1:c.exec(b.value)?!0:!1}
function LP_get_generate_password_with_pattern(a,b){if(!a)return null;var c,d,e=[],f=a.getElementsByTagName("input");for(d=0;d<f.length&&d<MAX_INPUTS_HARD;d++)c=f[d],b&&c.form!=b||"password"==c.type&&!LP_explicit_ignored(a,c)&&(LP_implicit_ignored(a,c)||e.push({elt:c,score:0}));if(0>=e.length)return null;for(d=0;d<e.length;d++)if(c=e[d].elt,LP_get_input_pattern(a,c)&&(e[d].score+=10),(f=RegExp(lpgs("ff_currpass_regexp"),"i"))&&(f.exec(LP_getname(c,!1))||f.exec(LP_getname(c,!0))))e[d].score-=5;e.sort(function(a,
b){return b.score-a.score});return 0<e[0].score?e[0].elt:null}function update_preobfuscate_field_value(a){if(!a)return!1;var b=a.ownerDocument;b||(b=LP_derive_doc());if(!b)return!1;var c=LP_pickFieldName(b,a);if(c){var d=a.value;"undefined"!=typeof d&&(null!==d&&!LP_element_in_MaskedState(a))&&fieldcacheset(b,c,"fieldval",d)}return!0}
function should_track_field_onkeyup(a){if(!a)return!1;var b=a.ownerDocument;b||(b=LP_derive_doc());if(!b)return!1;var c=LP_pickFieldName(b,a);if(c){var d=fieldcacheget(b,c,"stfu");if(null!=d)return d}var d=a.id,e=a.name;a=a.getAttribute("title");var f=get_doc_location_href(b);if("fidelity.com"==lp_gettld_url(f)&&("temp_id"==d||"temp_id"==a||"ssnt"==d||"ssn"==e||"userId"==d||"userId-input"==d))return c&&fieldcacheset(b,c,"stfu",!0),!0;c&&fieldcacheset(b,c,"stfu",!1);return!1}
function LP_cleanup_on_logout(a,b){a||(a=LP_derive_doc());if(!a)return!1;if(null===b||"undefined"==typeof b)b=0;if(5<b)return!0;var c=!0,d="lpcurrpasselt lpcurruserelt _lpinvis __lpsadmsgdiv __lpsavemsgdiv __lpsuggestmsgdiv __lpresultdiv __lpseleniumbitsdiv".split(" ");try{for(var e=0;e<d.length;e++){var f=document.getElementById(d[e]);f&&f.parentNode.removeChild(f);g_queeg_mode&&(f=document.getElementById(d[e]))&&LP_cleanup_on_logout(a,b+1)}}catch(g){c=!1}return c}
function is_page_JSON(a){if(!a)return null;if("undefined"!=typeof a.lp_is_page_json)return a.lp_is_page_json;var b=a.body;return b&&(b=b.innerHTML,(b="undefined"!=typeof b.trim?b.trim():b.replace(/^\s*/,""))&&2<b.length&&("{"==b[0]||"("==b[0]))?a.lp_is_page_json=!0:a.lp_is_page_json=!1}function popupfill_shoulddoform(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;var c=b.name,d=b.id,e=["lpmanualform","lpwebsiteeventform"];return c&&lp_in_array(c,e)||d&&lp_in_array(d,e)?!1:!0}
function doc_get_form_equivalents(a){function b(a,c,d){if(!a)return[];var e=a.ownerDocument,f,g;d||(d=0);var h=[],j=[],k=[],m=a.children;if(!m||0==m.length)return[];for(f=0;f<m.length;f++)if("DIV"==m[f].tagName.toUpperCase()&&lpIsVisible(m[f],!0)){var y=b(m[f],c,d+1);for(g=0;g<y.length;g++)j.push(y[g]);verbose_log(sprintf("child div %s has %d forms ",LP_getname(m[f]),y.length))}else"FORM"==m[f].tagName.toUpperCase()?!is_search_form(e,m[f])&&popupfill_shoulddoform(e,m[f])&&j.push(m[f]):"INPUT"==m[f].tagName.toUpperCase()&&
popupfill_shoulddofield(e,m[f])&&(verbose_log(sprintf("child input %s found in %s",LP_getname(m[f]),LP_getname(a))),k.push(m[f]));("DIV"==a.tagName||"FORM"==a.tagName)&&0<k.length?popupfill_shoulddoform(e,a)?(h.push(a),verbose_log(sprintf("FOUND %d child forms and found inputs in this div %s, treating all together as one",j.length,LP_getname(a)))):verbose_log(sprintf("FOUND child forms in this div %s but intentionally skipping it",0,LP_getname(a))):(h=j,verbose_log(sprintf("FOUND %d child forms in this div %s",
h.length,LP_getname(a))));return h}a||(a=LP_derive_doc());if(!a||!a.body)return[];var c=/container|form|box|wrapper/i,d,e,f=!1,g=[],h=0,k=a.body.children,j=k.length;Checkpoint.assert(100>j,"document too complex, "+get_doc_location_href(a));100<j&&(j=100);for(d=0;d<j;d++)if(e=k[d].tagName.toUpperCase(),"DIV"==e||"FORM"==e||"SECTION"==e){if(elt_is_formlike_container(k[d])){var m=b(k[d],c),h=h+m.length;for(e=0;e<m.length;e++)g.push(m[e])}}else"INPUT"==e&&(f=!0);f&&0==g.length&&g.push(a.body);verbose_log(sprintf("Found %d form equivalents on this page",
h));return g}
function elt_is_formlike_container(a){if(!a)return!1;var b=a.ownerDocument,c;LP_createXPathFromElement(b,a)||LP_pickFormName(b,a);if(!lpIsVisible(a,!0)||0>=a.children.length)return!1;var d=a.getElementsByTagName("input"),e=[];if(d){if(0>=d.length)return!1;var f=d.length;Checkpoint.assert(f<MAX_INPUTS_SOFT,"formlike container "+LP_getname(a)+" is too complex");f>MAX_INPUTS_SOFT&&(f=MAX_INPUTS_SOFT);for(c=0;c<f;c++)if(popupfill_shoulddofield(b,d[c])){e.push(d[c]);break}}return 0>=e.length?!1:0<e.length?
(verbose_log("detected mammaliaforme "+LP_getname(a)),!0):!1}
function should_ignore_body_relative(a){a||(a=LP_derive_doc());if(!a)return!1;var b=formcacheget(a,"fakedoc","ignore-relative-style");if(!0===b||!1===b)return b;b=0;b=null;LP_get_cached_body_rect(a);var b=LP_get_body_reference(a),c=LP_get_cached_body_style(a);if(c&&"relative"!=c.position)return formcacheset(a,"fakedoc","ignore-relative-style",!0),!0;c=[];b&&(c=b.children);if(c&&0<c.length){Checkpoint.assert(100>c.length,"too many body.children");for(b=0;b<c.length&&100>b;b++)if(!lp_in_array(c[b].tagName.toUpperCase(),
["SCRIPT"])&&lp_in_array(c[b].tagName.toUpperCase(),["DIV","SECTION","FORM"])){if((b=LP_get_live_style(c[b]))&&"relative"==b.position)return formcacheset(a,"fakedoc","ignore-relative-style",!1),!1;break}}formcacheset(a,"fakedoc","ignore-relative-style",!0);return!0}
function get_javaservlet_fields(a,b){if(!a)return[];if("undefined"==typeof b||null===b)b=!1;var c=[],d=a.getElementsByName("j_username"),e=a.getElementsByName("j_password");if(1===d.length&&1===e.length)Checkpoint.assert(d[0].form===e[0].form,"javaservlet form mismatch"),c=[d[0],e[0]];else if(b&&(1===d.length||1===e.length)){var f=null,g=null;1===d.length&&(f=d[0]);1===e.length&&(g=e[0]);c=[f,g]}else{d=a.getElementsByTagName("FORM");f=MAX_FORMS_SOFT;Checkpoint.assert(d.length<f,"too many forms on page");
for(e=0;e<f&&e<d.length;e++)if(d[e].action&&"undefined"!=typeof d[e].action.indexOf&&0<=d[e].action.indexOf("j_security_check")){f=form_get_username(a,d[e]);g=form_get_password(a,d[e]);f&&g&&(c=[f,g]);break}}return c}
function is_shopping_form(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;var c=LP_createXPathFromElement(a,b);c||(c=LP_pickFormName(a,b));var d=formcacheget(a,c,"is-shopping");if(null!=d)return d;var d=!1,e=0,f=0,g=0,h=0,k=0,j=0,m=/qty|quantity/i,n=/[Ss]hipping/,l=/[Ss]hopping|[CcK]art/,p=/gift|Gift|GIFT/,r=/[Cc]heck[Oo]ut/,t=b.getElementsByTagName("input");Checkpoint.assert(t.length<MAX_INPUTS_SOFT,"form "+LP_getname(b)+" has too many inputs");var q=t.length;q>MAX_INPUTS_SOFT&&(q=MAX_INPUTS_SOFT);
for(j=0;j<q;j++){var s=t[j].id,u=t[j].name,v=t[j].className;if(m.exec(s)||m.exec(u)||m.exec(v))e++;else if(n.exec(s)||n.exec(u)||n.exec(v))g++;else if(l.exec(s)||l.exec(u)||l.exec(v))f++;else if(p.exec(s)||p.exec(u)||p.exec(v))h++;else if(r.exec(s)||r.exec(u)||r.exec(v))k++;else{s=void 0;u=0;v=[e,f,g,h,k];for(s=0;s<v.length;s++)0<v[s]&&u++;if(2<=u){d=!0;break}}}formcacheset(a,c,"is-shopping",d);return d}
function LP_field_set_backgroundPosition(a,b){a||(a=LP_derive_doc());if(!a||!b)return!1;if(!0===LP_get_text_dir(b)){var c="center right";lp_in_array(b.style.backgroundPosition,["center right","right center","100% 50%"])||(b.style.backgroundPosition=c)}else c="center left",lp_in_array(b.style.backgroundPosition,["center left","left center","0% 50%"])||(b.style.backgroundPosition=c);return!0};
